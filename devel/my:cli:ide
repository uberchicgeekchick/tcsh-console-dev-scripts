#!/bin/tcsh -f
set resolutions_path="`dirname '${0}'`/../resolutions/gnome-terminal";

set default_geometry=`cat "${resolutions_path}/default.rc"`;
set build_geometry=`cat "${resolutions_path}/build.rc"`;
set programming_geometry=`cat "${resolutions_path}/programming.rc"`;
set media_geometry=`cat "${resolutions_path}/media.rc"`;
set canvas_geometry=`cat "${resolutions_path}/canvas.rc"`;
set editor_geometry = `cat "${resolutions_path}/editor.rc"`;

set screens_command="/usr/bin/screen -aAURx";
set screens_sessions=`/usr/bin/screen -list`;
if ( "$screens_sessions[1]" != "No" ) set screens_started;
unset screens_sessions;

foreach canvas_info ( "${argv}" )
	if ( ${?screens_started} && \
		"`printf '${screens_command}' | sed 's/\(.\)$$/\1/'`" != "x" \
	) set screens_command="/usr/bin/screen -aAURx";
	alias	screen	"${screens_command}"
	
	if(! ${?my_starter_tabs} ) \
		set my_starter_tabs=( \
			"--tab-with-profile=screen" \
			"--tab-with-profile=projects --title=/ssh --working-directory=/projects/ssh" \
			"--tab-with-profile=projects --title=/projects --working-directory=/projects" \
		);
	
	if(! ${?my_default_tabs} ) \
		set my_default_tabs = ( \
			${my_starter_tabs} \
			"--tab-with-profile=projects --title=/profile.d --working-directory=/profile.d" \
			"--tab-with-profile=projects --title=/media --working-directory=/media" \
			"--tab-with-profile=projects --title=~/ --working-directory=${HOME}" \
			"--tab-with-profile=projects --title=/ssh --working-directory=/projects/ssh" \
			"--tab-with-profile=projects --title=/programs --working-directory=/programs" \
		);
	
	set canvas_type="`printf '${canvas_info}' | sed 's/^\([^:]\+\):\(.*\)/\1/g'`";
	set canvas="`printf '${canvas_info}' | sed 's/^\([^:]\+\):\(.*\)/\2/g'`";
	switch( "${canvas_type}" )
	case "Editor":
		shift;
		set geometry="${editor_geometry}";
		goto  editor_canvas
		breaksw
	case "Canvas":
		shift;
		set geometry="${canvas_geometry}";
		goto  canvas_canvas
		breaksw
	case "Programming":
		shift;
		set geometry="${programming_geometry}"
		goto  programming_canvas
		breaksw
	case "Media":
		shift;
		set geometry="${media_geometry}"
		goto media_canvas
		breaksw
	case "Build":
		shift;
		set geometry="${build_geometry}"
		goto build_canvas
		breaksw
	default:
		set geometry="${default_geometry}"
		goto  default_canvas
		breaksw
	endsw


	
	
editor_canvas:
	switch ( "${canvas}" )
	case 'Template':
		if (! ${?screens_started} ) set screens_started;
		/usr/bin/gnome-terminal \
			--hide-menubar \
			--geometry=${geometry} \
			${my_starter_tabs} \
			${my_projects} \
		${argv} &;
		breaksw
	
	case 'VIM':
		/usr/bin/gnome-terminal \
			--hide-menubar \
			--geometry=${geometry} \
			--tab-with-profile="projects" --title="vim-enhanced" --working-directory="/projects" --command="/usr/bin/vim-enhanced -p ${argv}" \
		&;
		breaksw
		
	case 'Default':
		/usr/bin/gnome-terminal \
			--hide-menubar \
			--geometry=${geometry} \
			--tab-with-profile="projects" --title="${EDITOR}" --working-directory="/projects" --command="${EDITOR} -p ${argv}" \
		&;
		breaksw
	endsw
goto next_canvas

	
	
programming_canvas:
	if(! ${?screens_started} ) set screens_started;
	if(! ${?my_projects} ) \
		set my_projects = ( \
					${my_starter_tabs} \
					"--tab-with-profile=projects --title=/srv --working-directory=/srv" \
					"--tab-with-profile=projects --title=/media --working-directory=/projects/media" \
					"--tab-with-profile=projects --title=/art --working-directory=/projects/art" \
					"--tab-with-profile=projects --title=/reference --working-directory=/projects/reference" \
					"--tab-with-profile=projects --title=/cli --working-directory=/projects/cli" \
					"--tab-with-profile=projects --title=/www --working-directory=/projects/www" \
					"--tab-with-profile=projects --title=/games --working-directory=/projects/games" \
					"--tab-with-profile=projects --title=/gtk --working-directory=/projects/gtk" \
		);

	if(! ${?my_active_projects} ) \
		set my_active_projects=( \
					"--tab-with-profile=projects --title=AOPHP --working-directory=/projects/www/uberChicGeekChick.com" \
					"--tab-with-profile=projects --title=Greet-Tweet-Know --working-directory=/projects/gtk/greet-tweet-know" \
					"--tab-with-profile=projects --title=connectED --working-directory=/projects/gtk/connectED" \
					"--tab-with-profile=projects --title=Alacast --working-directory=/projects/gtk/alacast" \
																				);

	if(! ${?my_game_development_projects} ) \
		set my_game_development_projects=( \
					${my_starter_tabs} \
					"--tab-with-profile=projects --title=/reference --working-directory=/projects/reference" \
					"--tab-with-profile=projects --title=/games --working-directory=/projects/games" \
					"--tab-with-profile=projects --title=game-dev:engines --working-directory=/projects/games/engines" \
					"--tab-with-profile=projects --title=game-dev:libraries --working-directory=/projects/games/libraries" \
					"--tab-with-profile=projects --title=game-dev:tools --working-directory=/projects/games/tools" \
					"--tab-with-profile=projects --title=many-worlds --working-directory=/projects/games/many-worlds" \
					"--tab-with-profile=projects --title=puzzling-galaxsee --working-directory=/projects/games/puzzling-galaxsee" \
					"--tab-with-profile=projects --title=hackGirls-terminal --working-directory=/projects/games/hackGirls-terminal" \
		);

	if(! ${?my_gtk_projects} ) \
		set my_gtk_projects=( \
					${my_starter_tabs} \
					"--tab-with-profile=projects --title=/reference --working-directory=/projects/reference" \
					"--tab-with-profile=projects --title=/gtk --working-directory=/projects/gtk" \
					"--tab-with-profile=projects --title=Greet-Tweet-Know --working-directory=/projects/gtk/greet-tweet-know" \
					"--tab-with-profile=projects --title=connectED --working-directory=/projects/gtk/connectED" \
					"--tab-with-profile=projects --title=Alacast --working-directory=/projects/gtk/alacast" \
		);

	if(! ${?my_www_projects} ) \
		set my_www_projects = ( \
 					${my_starter_tabs} \
					"--tab-with-profile=projects --title=/srv --working-directory=/srv" \
					"--tab-with-profile=projects --title=/reference --working-directory=/projects/reference" \
					"--tab-with-profile=projects --title=/www --working-directory=/projects/www" \
					"--tab-with-profile=projects --title=Alacast --working-directory=/projects/gtk/alacast" \
					"--tab-with-profile=projects --title=TweetMyBlog --working-directory=/projects/www/TweetMyBlog" \
					"--tab-with-profile=projects --title=realFriends --working-directory=/projects/www/realFriends" \
					"--tab-with-profile=projects --title=Dystonia-DREAMS.org --working-directory=/projects/www/Dystonia-DREAMS.org" \
					"--tab-with-profile=projects --title=uberChicks.net --working-directory=/projects/www/uberChicks.net" \
					"--tab-with-profile=projects --title=AOPHP --working-directory=/projects/www/uberChicGeekChick.com" \
		);

	if(! ${?my_cli_projects} ) \
		set my_cli_projects=( \
					${my_starter_tabs} \
					"--tab-with-profile=projects --title=/reference --working-directory=/projects/reference" \
					"--tab-with-profile=projects --title=/cli --working-directory=/projects/cli" \
					"--tab-with-profile=projects --title=/profile.d --working-directory=/profile.d" \
					"--tab-with-profile=projects --title=tcshrc-dev --working-directory=/projects/cli/tcshrc-dev" \
		);

	switch( "${canvas}" )
	case 'All':
		/usr/bin/gnome-terminal \
			--hide-menubar \
			--geometry=${geometry} \
			${my_projects} \
			${my_cli_projects} \
			${my_gtk_projects} \
			${my_game_development_projects} \
		${argv} &;
		breaksw
	
	case 'GTK':
		/usr/bin/gnome-terminal \
			--hide-menubar \
			--geometry=${geometry} \
			${my_gtk_projects} \
		${argv} &;
		breaksw;

	case 'CLI':
		/usr/bin/gnome-terminal \
			--hide-menubar \
			--geometry=${geometry} \
			${my_cli_projects} \
		${argv} &;
		breaksw;
	
	case 'Games':
		/usr/bin/gnome-terminal \
			--hide-menubar \
			--geometry=${geometry} \
			--tab-with-profile="OpenSim" --title="OpenSim" --working-directory="/projects/games/tools/OpenSim/bin" --command="/projects/games/bin/OpenSim.tcsh" \
			${my_game_development_projects} \
		${argv} &;
		breaksw
	
	case 'WWW':
		/usr/bin/gnome-terminal \
			--hide-menubar \
			--geometry=${geometry} \
			${my_www_projects} \
		${argv} &;
		breaksw
	
	case 'Projects':
		/usr/bin/gnome-terminal \
			--hide-menubar \
			--geometry=${geometry} \
			${my_projects} \
			${my_active_projects} \
		${argv} &;
		breaksw
	endsw
goto next_canvas



build_canvas:
	switch( "${canvas}" )
	case 'Programs':
		/usr/bin/gnome-terminal \
			--hide-menubar \
			--geometry=${geometry} \
			--tab-with-profile="projects" --title="/programs/src" --working-directory="/programs/src" \
		${argv} &;
		breaksw
	
	case 'Projects':
		/usr/bin/gnome-terminal \
			--hide-menubar \
			--geometry=${geometry} \
			--tab-with-profile="projects" --title="/projects" --working-directory="/projects" \
		${argv} &;
		breaksw
	
	case 'Firefox':
		/usr/bin/gnome-terminal \
			--hide-menubar \
			--geometry=${geometry} \
			--tab-with-profile="projects" --title="firefox-src" --working-directory="/programs/Mozilla/src/firefox-src" \
		${argv} &;
		breaksw
	
	case 'Thunderbird':
		/usr/bin/gnome-terminal \
			--hide-menubar \
			--geometry=${geometry} \
			--tab-with-profile="projects" --title="thunderbird-src" --working-directory="/programs/Mozilla/src/thunderbird-src" \
		${argv} &;
		breaksw
	
	case 'Canvas':
	default:
		/usr/bin/gnome-terminal \
			--hide-menubar \
			--geometry=${geometry} \
			--tab-with-profile="projects" --title="/profile.d" --working-directory="/profile.d" \
			--tab-with-profile="projects" --title="tcsh-dev" --working-directory="/projects/cli/tcsh-dev" \
			--tab-with-profile="projects" --title="/projects" --working-directory="/projects" \
			--tab-with-profile="projects" --title="/programs/src" --working-directory="/programs/src" \
		${argv} &;
		breaksw
	
	endsw
goto next_canvas

	
	
media_canvas:
	if (! ${?screens_started} ) set screens_started;
	switch ( "${canvas}" )
	case 'Production':
		/usr/bin/gnome-terminal \
			--hide-menubar \
			--geometry=${geometry} \
			${my_default_tabs} \
			--tab-with-profile="projects" --title="art" --working-directory="/projects/art" \
			--tab-with-profile="projects" --title="Alacast" --working-directory="/projects/gtk/alacast" \
			--tab-with-profile="projects" --title="/media-library" --working-directory="/media/media-library" \
			--tab-with-profile="projects" --title="my podcasts" --working-directory="/projects/media/podcasts" \
		${argv} &;
		breaksw

	case 'Social':
		if ( -e "${HOME}/.rtorrent.rc" ) then
			set rtorrent_session_dir = `/usr/bin/grep 'session' "${HOME}/.rtorrent.rc" | /usr/bin/sed 's/^[^=]\+=\ \(.*\)$/\1/g'`;
			if ( "${rtorrent_session_dir}" != "" && -d "${rtorrent_session_dir}" ) then
				rm -f "${rtorrent_session_dir}/rtorrent.lock";
				rm -f "${rtorrent_session_dir}/rtorrent.dht_cache";
			endif
		endif
		
		/usr/bin/gnome-terminal \
			--hide-menubar \
			--geometry=${geometry} \
			--tab-with-profile="rTorrent" --title="rTorrent" --working-directory="/media/torrents" --command="rtorrent"  \
			--tab-with-profile="screen" \
			--tab-with-profile="projects" --title="/projects/media" --working-directory="/projects/media" \
			--tab-with-profile="projects" --title="/media" --working-directory="/media" \
			--tab-with-profile="projects" --title="podiobooks" --working-directory="/media/podiobooks" \
			--tab-with-profile="projects" --title="podcasts" --working-directory="/media/podcasts" \
			--tab-with-profile="projects" --title="alacast:php" --working-directory="/projects/cli/alacast" --command="/projects/cli/alacast/bin/alacast.php --update=detailed --logging --player=xine --interactive" \
		${argv} &;
		breaksw
	endsw
goto next_canvas
	
	
	
default_canvas:
	if (! ${?screens_started} ) set screens_started;
	switch ( "${canvas}" )
	case 'Screen':
		/usr/bin/gnome-terminal \
			--hide-menubar \
			--geometry=${geometry} \
			--tab-with-profile="screen"  \
		${argv} &;
		breaksw
	default:
		/usr/bin/gnome-terminal \
			--hide-menubar \
			--geometry=${geometry} \
			${my_default_tabs} \
		${argv} &;
		breaksw
	endsw
goto next_canvas

	
	
next_canvas:
end

