<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
  <title>perllol - perldoc.perl.org</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
  <meta http-equiv="Content-Language" content="en-gb" />
  <link href="css.css" rel="stylesheet" rev="stylesheet" type="text/css" media="screen" />
</head>

<script language="JavaScript" type="text/javascript" src="label.js"></script>

<script language="JavaScript">
  pageDepth = 0;
  setPath();
</script>

<body onLoad="showToolbars();loadLabels()">

<div id="pageHeader">
  <div id="pageHeaderLogo">
    <img src="onion.gif">
  </div>
  <div id="pageHeaderText">
    <a href="http://perldoc.perl.org">perldoc.perl.org</a>
  </div>
</div>

<div id="pageBody">
  <div id="left">
    <div id="leftContent">
      <div id="leftClose">
        <a href="#" onClick="closeLeft()" title="Hide navigation" onmouseover="leftCloseIcon.src='close_purple.gif';" onmouseout="leftCloseIcon.src='close_blue.gif';"><img src="close_blue.gif" name="leftCloseIcon" id="leftCloseIcon" border=0></a>
      </div>
      <h1>Manual:</h1>
      <ul>
        <li><a href="index-overview.html">Overview</a></li>
        <li><a href="index-tutorials.html">Tutorials</a></li>
        <li><a href="index-faq.html">FAQs</a></li>
        <li><a href="index-history.html">History / Changes</a></li>
        <li><a href="index-licence.html">Licence</a></li>
      </ul>
      <h2>Reference:</h2>
      <ul>
        <li><a href="index-language.html">Language</a></li>
        <li><a href="index-functions.html">Functions</a></li>
        <li><a href="perlop.html">Operators</a></li>
        <li><a href="perlvar.html">Special variables</a></li>
        <li><a href="index-pragmas.html">Pragmas</a></li>
        <li><a href="index-modules-A.html">Core modules</a></li>
        <li><a href="index-utilities.html">Utilities</a></li>
        <li><a href="index-internals.html">Internals</a></li>
        <li><a href="index-platforms.html">Platform specific</a></li>
      </ul>
      <h2>Links:</h2>
      <ul>
        <li><a href="http://search.cpan.org">CPAN</a></li>
        <li><a href="http://www.perl.com">Perl.com</a></li>
        <li><a href="http://www.perl.org">Perl.org</a></li>
        <li><a href="http://www.pm.org">Perl Mongers</a></li>
        <li><a href="http://www.perlmonks.org">Perl Monks</a></li>
        <li><a href="http://planet.perl.org">Planet Perl</a></li>
        <li><a href="http://use.perl.org">Use Perl</a></li>
      </ul>
      <h2>Contact:</h2>
      <ul>
        <li>Site maintained by<br><a href="http://perl.jonallen.info">Jon Allen</a>
            (<a href="http://perl.jonallen.info">JJ</a>)</li>
        <li class="spaced">Last updated on<br>23 April 2006</li>
	<li class="spaced">See the <a href="http://perl.jonallen.info/projects/perldoc">project page</a> for
	more details</li>
      </ul>
    </div>
  </div>

  <div id="center">  
    <div id="centerContent">
      <div id="contentHeader">
        <div id="contentHeaderLeft"><a href="#" onClick="showLeft()">Show navigation</a></div>
        <div id="contentHeaderCentre">-- Perl 5.8.8 documentation --</div>
        <div id="contentHeaderRight"><a href="#" onClick="showRight()">Show toolbar</a></div>
      </div>
      <div id="breadCrumbs"><a href="index.html">Home</a> &gt; <a href="index-tutorials.html">Tutorials</a> &gt; perllol</div>
      <script language="JavaScript">fromSearch();</script>
      <div id="contentBody"><div class="title_container"><div class="page_title">perllol</div><div class="pdf_link"><a href="perllol.pdf">View as PDF</a></div><div class="pdf_img_link"><a href="perllol.pdf"><img src="pdficon.gif" border=0></a></div></div><ul><li><a href="#NAME">NAME</a><li><a href="#DESCRIPTION">DESCRIPTION</a><ul><li><a href="#Declaration-and-Access-of-Arrays-of-Arrays">Declaration and Access of Arrays of Arrays</a><li><a href="#Growing-Your-Own">Growing Your Own</a><li><a href="#Access-and-Printing">Access and Printing</a><li><a href="#Slices">Slices</a></ul><li><a href="#SEE-ALSO">SEE ALSO</a><li><a href="#AUTHOR">AUTHOR</a></ul><a name="NAME"></a><h1>NAME</h1>
<p>perllol - Manipulating Arrays of Arrays in Perl</p>
<a name="DESCRIPTION"></a><h1>DESCRIPTION</h1>
<a name="Declaration-and-Access-of-Arrays-of-Arrays"></a><h2>Declaration and Access of Arrays of Arrays</h2>
<p>The simplest thing to build is an array of arrays (sometimes imprecisely
called a list of lists).  It's reasonably easy to understand, and
almost everything that applies here will also be applicable later
on with the fancier data structures.</p>
<p>An array of an array is just a regular old array @AoA that you can
get at with two subscripts, like <code class="inline"><span class="i">$AoA</span>[<span class="n">3</span>][<span class="n">2</span>]</code>
.  Here's a declaration
of the array:</p>
<pre class="verbatim">    <span class="c"># assign to our array, an array of array references</span>
    <span class="i">@AoA</span> = <span class="s">(</span>
	   <span class="s">[</span> <span class="q">&quot;fred&quot;</span><span class="cm">,</span> <span class="q">&quot;barney&quot;</span> <span class="s">]</span><span class="cm">,</span>
	   <span class="s">[</span> <span class="q">&quot;george&quot;</span><span class="cm">,</span> <span class="q">&quot;jane&quot;</span><span class="cm">,</span> <span class="q">&quot;elroy&quot;</span> <span class="s">]</span><span class="cm">,</span>
	   <span class="s">[</span> <span class="q">&quot;homer&quot;</span><span class="cm">,</span> <span class="q">&quot;marge&quot;</span><span class="cm">,</span> <span class="q">&quot;bart&quot;</span> <span class="s">]</span><span class="cm">,</span>
    <span class="s">)</span><span class="sc">;</span></pre>
<pre class="verbatim">    <a class="l_k" href="functions/print.html">print</a> <span class="i">$AoA</span>[<span class="n">2</span>][<span class="n">2</span>]<span class="sc">;</span>
  bart</pre>
<p>Now you should be very careful that the outer bracket type
is a round one, that is, a parenthesis.  That's because you're assigning to
an @array, so you need parentheses.  If you wanted there <i>not</i> to be an @AoA,
but rather just a reference to it, you could do something more like this:</p>
<pre class="verbatim">    <span class="c"># assign a reference to array of array references</span>
    <span class="i">$ref_to_AoA</span> = <span class="s">[</span>
	<span class="s">[</span> <span class="q">&quot;fred&quot;</span><span class="cm">,</span> <span class="q">&quot;barney&quot;</span><span class="cm">,</span> <span class="q">&quot;pebbles&quot;</span><span class="cm">,</span> <span class="q">&quot;bambam&quot;</span><span class="cm">,</span> <span class="q">&quot;dino&quot;</span><span class="cm">,</span> <span class="s">]</span><span class="cm">,</span>
	<span class="s">[</span> <span class="q">&quot;homer&quot;</span><span class="cm">,</span> <span class="q">&quot;bart&quot;</span><span class="cm">,</span> <span class="q">&quot;marge&quot;</span><span class="cm">,</span> <span class="q">&quot;maggie&quot;</span><span class="cm">,</span> <span class="s">]</span><span class="cm">,</span>
	<span class="s">[</span> <span class="q">&quot;george&quot;</span><span class="cm">,</span> <span class="q">&quot;jane&quot;</span><span class="cm">,</span> <span class="q">&quot;elroy&quot;</span><span class="cm">,</span> <span class="q">&quot;judy&quot;</span><span class="cm">,</span> <span class="s">]</span><span class="cm">,</span>
    <span class="s">]</span><span class="sc">;</span></pre>
<pre class="verbatim">    <a class="l_k" href="functions/print.html">print</a> <span class="i">$ref_to_AoA</span>-&gt;[<span class="n">2</span>][<span class="n">2</span>]<span class="sc">;</span></pre>
<p>Notice that the outer bracket type has changed, and so our access syntax
has also changed.  That's because unlike C, in perl you can't freely
interchange arrays and references thereto.  $ref_to_AoA is a reference to an
array, whereas @AoA is an array proper.  Likewise, <code class="inline"><span class="i">$AoA</span>[<span class="n">2</span>]</code>
 is not an
array, but an array ref.  So how come you can write these:</p>
<pre class="verbatim">    $AoA[2][2]
    $ref_to_AoA-&gt;[2][2]</pre><p>instead of having to write these:</p>
<pre class="verbatim">    $AoA[2]-&gt;[2]
    $ref_to_AoA-&gt;[2]-&gt;[2]</pre><p>Well, that's because the rule is that on adjacent brackets only (whether
square or curly), you are free to omit the pointer dereferencing arrow.
But you cannot do so for the very first one if it's a scalar containing
a reference, which means that $ref_to_AoA always needs it.</p>
<a name="Growing-Your-Own"></a><h2>Growing Your Own</h2>
<p>That's all well and good for declaration of a fixed data structure,
but what if you wanted to add new elements on the fly, or build
it up entirely from scratch?</p>
<p>First, let's look at reading it in from a file.  This is something like
adding a row at a time.  We'll assume that there's a flat file in which
each line is a row and each word an element.  If you're trying to develop an
@AoA array containing all these, here's the right way to do that:</p>
<pre class="verbatim">    while <span class="s">(</span>&lt;&gt;<span class="s">)</span> <span class="s">{</span>
	<span class="i">@tmp</span> = <a class="l_k" href="functions/split.html">split</a><span class="sc">;</span>
	<a class="l_k" href="functions/push.html">push</a> <span class="i">@AoA</span><span class="cm">,</span> <span class="s">[</span> <span class="i">@tmp</span> <span class="s">]</span><span class="sc">;</span>
    <span class="s">}</span></pre>
<p>You might also have loaded that from a function:</p>
<pre class="verbatim">    for <span class="i">$i</span> <span class="s">(</span> <span class="n">1</span> .. <span class="n">10</span> <span class="s">)</span> <span class="s">{</span>
	<span class="i">$AoA</span>[<span class="i">$i</span>] = <span class="s">[</span> <span class="i">somefunc</span><span class="s">(</span><span class="i">$i</span><span class="s">)</span> <span class="s">]</span><span class="sc">;</span>
    <span class="s">}</span></pre>
<p>Or you might have had a temporary variable sitting around with the
array in it.</p>
<pre class="verbatim">    for <span class="i">$i</span> <span class="s">(</span> <span class="n">1</span> .. <span class="n">10</span> <span class="s">)</span> <span class="s">{</span>
	<span class="i">@tmp</span> = <span class="i">somefunc</span><span class="s">(</span><span class="i">$i</span><span class="s">)</span><span class="sc">;</span>
	<span class="i">$AoA</span>[<span class="i">$i</span>] = <span class="s">[</span> <span class="i">@tmp</span> <span class="s">]</span><span class="sc">;</span>
    <span class="s">}</span></pre>
<p>It's very important that you make sure to use the <code class="inline"><span class="s">[</span><span class="s">]</span></code>
 array reference
constructor.  That's because this will be very wrong:</p>
<pre class="verbatim">    <span class="i">$AoA</span>[<span class="i">$i</span>] = <span class="i">@tmp</span><span class="sc">;</span></pre>
<p>You see, assigning a named array like that to a scalar just counts the
number of elements in @tmp, which probably isn't what you want.</p>
<p>If you are running under <code class="inline"><a class="l_k" href="functions/use.html">use</a> <a class="l_w" href="strict.html">strict</a></code>
, you'll have to add some
declarations to make it happy:</p>
<pre class="verbatim">    <a class="l_k" href="functions/use.html">use</a> <a class="l_w" href="strict.html">strict</a><span class="sc">;</span>
    <a class="l_k" href="functions/my.html">my</a><span class="s">(</span><span class="i">@AoA</span><span class="cm">,</span> <span class="i">@tmp</span><span class="s">)</span><span class="sc">;</span>
    while <span class="s">(</span>&lt;&gt;<span class="s">)</span> <span class="s">{</span>
	<span class="i">@tmp</span> = <a class="l_k" href="functions/split.html">split</a><span class="sc">;</span>
	<a class="l_k" href="functions/push.html">push</a> <span class="i">@AoA</span><span class="cm">,</span> <span class="s">[</span> <span class="i">@tmp</span> <span class="s">]</span><span class="sc">;</span>
    <span class="s">}</span></pre>
<p>Of course, you don't need the temporary array to have a name at all:</p>
<pre class="verbatim">    while <span class="s">(</span>&lt;&gt;<span class="s">)</span> <span class="s">{</span>
	<a class="l_k" href="functions/push.html">push</a> <span class="i">@AoA</span><span class="cm">,</span> <span class="s">[</span> <a class="l_k" href="functions/split.html">split</a> <span class="s">]</span><span class="sc">;</span>
    <span class="s">}</span></pre>
<p>You also don't have to use push().  You could just make a direct assignment
if you knew where you wanted to put it:</p>
<pre class="verbatim">    <a class="l_k" href="functions/my.html">my</a> <span class="s">(</span><span class="i">@AoA</span><span class="cm">,</span> <span class="i">$i</span><span class="cm">,</span> <span class="i">$line</span><span class="s">)</span><span class="sc">;</span>
    for <span class="i">$i</span> <span class="s">(</span> <span class="n">0</span> .. <span class="n">10</span> <span class="s">)</span> <span class="s">{</span>
	<span class="i">$line</span> = &lt;&gt;<span class="sc">;</span>
	<span class="i">$AoA</span>[<span class="i">$i</span>] = <span class="s">[</span> <a class="l_k" href="functions/split.html">split</a> <span class="q">&#39; &#39;</span><span class="cm">,</span> <span class="i">$line</span> <span class="s">]</span><span class="sc">;</span>
    <span class="s">}</span></pre>
<p>or even just</p>
<pre class="verbatim">    <a class="l_k" href="functions/my.html">my</a> <span class="s">(</span><span class="i">@AoA</span><span class="cm">,</span> <span class="i">$i</span><span class="s">)</span><span class="sc">;</span>
    for <span class="i">$i</span> <span class="s">(</span> <span class="n">0</span> .. <span class="n">10</span> <span class="s">)</span> <span class="s">{</span>
	<span class="i">$AoA</span>[<span class="i">$i</span>] = <span class="s">[</span> <a class="l_k" href="functions/split.html">split</a> <span class="q">&#39; &#39;</span><span class="cm">,</span> &lt;&gt; <span class="s">]</span><span class="sc">;</span>
    <span class="s">}</span></pre>
<p>You should in general be leery of using functions that could
potentially return lists in scalar context without explicitly stating
such.  This would be clearer to the casual reader:</p>
<pre class="verbatim">    <a class="l_k" href="functions/my.html">my</a> <span class="s">(</span><span class="i">@AoA</span><span class="cm">,</span> <span class="i">$i</span><span class="s">)</span><span class="sc">;</span>
    for <span class="i">$i</span> <span class="s">(</span> <span class="n">0</span> .. <span class="n">10</span> <span class="s">)</span> <span class="s">{</span>
	<span class="i">$AoA</span>[<span class="i">$i</span>] = <span class="s">[</span> <a class="l_k" href="functions/split.html">split</a> <span class="q">&#39; &#39;</span><span class="cm">,</span> <a class="l_k" href="functions/scalar.html">scalar</a><span class="s">(</span>&lt;&gt;<span class="s">)</span> <span class="s">]</span><span class="sc">;</span>
    <span class="s">}</span></pre>
<p>If you wanted to have a $ref_to_AoA variable as a reference to an array,
you'd have to do something like this:</p>
<pre class="verbatim">    while <span class="s">(</span>&lt;&gt;<span class="s">)</span> <span class="s">{</span>
	<a class="l_k" href="functions/push.html">push</a> <span class="i">@$ref_to_AoA</span><span class="cm">,</span> <span class="s">[</span> <a class="l_k" href="functions/split.html">split</a> <span class="s">]</span><span class="sc">;</span>
    <span class="s">}</span></pre>
<p>Now you can add new rows.  What about adding new columns?  If you're
dealing with just matrices, it's often easiest to use simple assignment:</p>
<pre class="verbatim">    for <span class="i">$x</span> <span class="s">(</span><span class="n">1</span> .. <span class="n">10</span><span class="s">)</span> <span class="s">{</span>
	for <span class="i">$y</span> <span class="s">(</span><span class="n">1</span> .. <span class="n">10</span><span class="s">)</span> <span class="s">{</span>
	    <span class="i">$AoA</span>[<span class="i">$x</span>][<span class="i">$y</span>] = <span class="i">func</span><span class="s">(</span><span class="i">$x</span><span class="cm">,</span> <span class="i">$y</span><span class="s">)</span><span class="sc">;</span>
	<span class="s">}</span>
    <span class="s">}</span></pre>
<pre class="verbatim">    for <span class="i">$x</span> <span class="s">(</span> <span class="n">3</span><span class="cm">,</span> <span class="n">7</span><span class="cm">,</span> <span class="n">9</span> <span class="s">)</span> <span class="s">{</span>
	<span class="i">$AoA</span>[<span class="i">$x</span>][<span class="n">20</span>] += <span class="i">func2</span><span class="s">(</span><span class="i">$x</span><span class="s">)</span><span class="sc">;</span>
    <span class="s">}</span></pre>
<p>It doesn't matter whether those elements are already
there or not: it'll gladly create them for you, setting
intervening elements to <code class="inline"><a class="l_k" href="functions/undef.html">undef</a></code> as need be.</p>
<p>If you wanted just to append to a row, you'd have
to do something a bit funnier looking:</p>
<pre class="verbatim">    <span class="c"># add new columns to an existing row</span>
    <a class="l_k" href="functions/push.html">push</a> <span class="i">@</span>{ <span class="i">$AoA</span>[<span class="n">0</span>] }<span class="cm">,</span> <span class="q">&quot;wilma&quot;</span><span class="cm">,</span> <span class="q">&quot;betty&quot;</span><span class="sc">;</span></pre>
<p>Notice that I <i>couldn't</i> say just:</p>
<pre class="verbatim">    <a class="l_k" href="functions/push.html">push</a> <span class="i">$AoA</span>[<span class="n">0</span>]<span class="cm">,</span> <span class="q">&quot;wilma&quot;</span><span class="cm">,</span> <span class="q">&quot;betty&quot;</span><span class="sc">;</span>  <span class="c"># WRONG!</span></pre>
<p>In fact, that wouldn't even compile.  How come?  Because the argument
to push() must be a real array, not just a reference to such.</p>
<a name="Access-and-Printing"></a><h2>Access and Printing</h2>
<p>Now it's time to print your data structure out.  How
are you going to do that?  Well, if you want only one
of the elements, it's trivial:</p>
<pre class="verbatim">    <a class="l_k" href="functions/print.html">print</a> <span class="i">$AoA</span>[<span class="n">0</span>][<span class="n">0</span>]<span class="sc">;</span></pre>
<p>If you want to print the whole thing, though, you can't
say</p>
<pre class="verbatim">    <a class="l_k" href="functions/print.html">print</a> <span class="i">@AoA</span><span class="sc">;</span>		<span class="c"># WRONG</span></pre>
<p>because you'll get just references listed, and perl will never
automatically dereference things for you.  Instead, you have to
roll yourself a loop or two.  This prints the whole structure,
using the shell-style for() construct to loop across the outer
set of subscripts.</p>
<pre class="verbatim">    for <span class="i">$aref</span> <span class="s">(</span> <span class="i">@AoA</span> <span class="s">)</span> <span class="s">{</span>
	<a class="l_k" href="functions/print.html">print</a> <span class="q">&quot;\t [ @$aref ],\n&quot;</span><span class="sc">;</span>
    <span class="s">}</span></pre>
<p>If you wanted to keep track of subscripts, you might do this:</p>
<pre class="verbatim">    for <span class="i">$i</span> <span class="s">(</span> <span class="n">0</span> .. <span class="i">$#AoA</span> <span class="s">)</span> <span class="s">{</span>
	<a class="l_k" href="functions/print.html">print</a> <span class="q">&quot;\t elt $i is [ @{$AoA[$i]} ],\n&quot;</span><span class="sc">;</span>
    <span class="s">}</span></pre>
<p>or maybe even this.  Notice the inner loop.</p>
<pre class="verbatim">    for <span class="i">$i</span> <span class="s">(</span> <span class="n">0</span> .. <span class="i">$#AoA</span> <span class="s">)</span> <span class="s">{</span>
	for <span class="i">$j</span> <span class="s">(</span> <span class="n">0</span> .. <span class="i">$#</span>{<span class="i">$AoA</span>[<span class="i">$i</span>]} <span class="s">)</span> <span class="s">{</span>
	    <a class="l_k" href="functions/print.html">print</a> <span class="q">&quot;elt $i $j is $AoA[$i][$j]\n&quot;</span><span class="sc">;</span>
	<span class="s">}</span>
    <span class="s">}</span></pre>
<p>As you can see, it's getting a bit complicated.  That's why
sometimes is easier to take a temporary on your way through:</p>
<pre class="verbatim">    for <span class="i">$i</span> <span class="s">(</span> <span class="n">0</span> .. <span class="i">$#AoA</span> <span class="s">)</span> <span class="s">{</span>
	<span class="i">$aref</span> = <span class="i">$AoA</span>[<span class="i">$i</span>]<span class="sc">;</span>
	for <span class="i">$j</span> <span class="s">(</span> <span class="n">0</span> .. <span class="i">$#</span>{<span class="i">$aref</span>} <span class="s">)</span> <span class="s">{</span>
	    <a class="l_k" href="functions/print.html">print</a> <span class="q">&quot;elt $i $j is $AoA[$i][$j]\n&quot;</span><span class="sc">;</span>
	<span class="s">}</span>
    <span class="s">}</span></pre>
<p>Hmm... that's still a bit ugly.  How about this:</p>
<pre class="verbatim">    for <span class="i">$i</span> <span class="s">(</span> <span class="n">0</span> .. <span class="i">$#AoA</span> <span class="s">)</span> <span class="s">{</span>
	<span class="i">$aref</span> = <span class="i">$AoA</span>[<span class="i">$i</span>]<span class="sc">;</span>
	<span class="i">$n</span> = <span class="i">@$aref</span> - <span class="n">1</span><span class="sc">;</span>
	for <span class="i">$j</span> <span class="s">(</span> <span class="n">0</span> .. <span class="i">$n</span> <span class="s">)</span> <span class="s">{</span>
	    <a class="l_k" href="functions/print.html">print</a> <span class="q">&quot;elt $i $j is $AoA[$i][$j]\n&quot;</span><span class="sc">;</span>
	<span class="s">}</span>
    <span class="s">}</span></pre>
<a name="Slices"></a><h2>Slices</h2>
<p>If you want to get at a slice (part of a row) in a multidimensional
array, you're going to have to do some fancy subscripting.  That's
because while we have a nice synonym for single elements via the
pointer arrow for dereferencing, no such convenience exists for slices.
(Remember, of course, that you can always write a loop to do a slice
operation.)</p>
<p>Here's how to do one operation using a loop.  We'll assume an @AoA
variable as before.</p>
<pre class="verbatim">    <span class="i">@part</span> = <span class="s">(</span><span class="s">)</span><span class="sc">;</span>
    <span class="i">$x</span> = <span class="n">4</span><span class="sc">;</span>
    for <span class="s">(</span><span class="i">$y</span> = <span class="n">7</span><span class="sc">;</span> <span class="i">$y</span> &lt; <span class="n">13</span><span class="sc">;</span> <span class="i">$y</span>++<span class="s">)</span> <span class="s">{</span>
	<a class="l_k" href="functions/push.html">push</a> <span class="i">@part</span><span class="cm">,</span> <span class="i">$AoA</span>[<span class="i">$x</span>][<span class="i">$y</span>]<span class="sc">;</span>
    <span class="s">}</span></pre>
<p>That same loop could be replaced with a slice operation:</p>
<pre class="verbatim">    <span class="i">@part</span> = <span class="i">@</span>{ <span class="i">$AoA</span>[<span class="n">4</span>] } [ <span class="n">7</span>..<span class="n">12</span> ]<span class="sc">;</span></pre>
<p>but as you might well imagine, this is pretty rough on the reader.</p>
<p>Ah, but what if you wanted a <i>two-dimensional slice</i>, such as having
$x run from 4..8 and $y run from 7 to 12?  Hmm... here's the simple way:</p>
<pre class="verbatim">    <span class="i">@newAoA</span> = <span class="s">(</span><span class="s">)</span><span class="sc">;</span>
    for <span class="s">(</span><span class="i">$startx</span> = <span class="i">$x</span> = <span class="n">4</span><span class="sc">;</span> <span class="i">$x</span> &lt;= <span class="n">8</span><span class="sc">;</span> <span class="i">$x</span>++<span class="s">)</span> <span class="s">{</span>
	for <span class="s">(</span><span class="i">$starty</span> = <span class="i">$y</span> = <span class="n">7</span><span class="sc">;</span> <span class="i">$y</span> &lt;= <span class="n">12</span><span class="sc">;</span> <span class="i">$y</span>++<span class="s">)</span> <span class="s">{</span>
	    <span class="i">$newAoA</span>[<span class="i">$x</span> - <span class="i">$startx</span>][<span class="i">$y</span> - <span class="i">$starty</span>] = <span class="i">$AoA</span>[<span class="i">$x</span>][<span class="i">$y</span>]<span class="sc">;</span>
	<span class="s">}</span>
    <span class="s">}</span></pre>
<p>We can reduce some of the looping through slices</p>
<pre class="verbatim">    for <span class="s">(</span><span class="i">$x</span> = <span class="n">4</span><span class="sc">;</span> <span class="i">$x</span> &lt;= <span class="n">8</span><span class="sc">;</span> <span class="i">$x</span>++<span class="s">)</span> <span class="s">{</span>
	<a class="l_k" href="functions/push.html">push</a> <span class="i">@newAoA</span><span class="cm">,</span> <span class="s">[</span> <span class="i">@</span>{ <span class="i">$AoA</span>[<span class="i">$x</span>] } [ <span class="n">7</span>..<span class="n">12</span> ] <span class="s">]</span><span class="sc">;</span>
    <span class="s">}</span></pre>
<p>If you were into Schwartzian Transforms, you would probably
have selected map for that</p>
<pre class="verbatim">    <span class="i">@newAoA</span> = <a class="l_k" href="functions/map.html">map</a> <span class="s">{</span> <span class="s">[</span> <span class="i">@</span>{ <span class="i">$AoA</span>[<span class="i">$_</span>] } [ <span class="n">7</span>..<span class="n">12</span> ] <span class="s">]</span> <span class="s">}</span> <span class="n">4</span> .. <span class="n">8</span><span class="sc">;</span></pre>
<p>Although if your manager accused of seeking job security (or rapid
insecurity) through inscrutable code, it would be hard to argue. :-)
If I were you, I'd put that in a function:</p>
<pre class="verbatim">    @newAoA = splice_2D( \@AoA, 4 =&gt; 8, 7 =&gt; 12 );
    sub splice_2D {
	my $lrr = shift; 	# ref to array of array refs!
	my ($x_lo, $x_hi,
	    $y_lo, $y_hi) = @_;</pre><pre class="verbatim">	return map {
	    [ @{ $lrr-&gt;[$_] } [ $y_lo .. $y_hi ] ]
	} $x_lo .. $x_hi;
    }</pre><a name="SEE-ALSO"></a><h1>SEE ALSO</h1>
<p>perldata(1), perlref(1), perldsc(1)</p>
<a name="AUTHOR"></a><h1>AUTHOR</h1>
<p>Tom Christiansen &lt;<i>tchrist@perl.com</i>&gt;</p>
<p>Last update: Thu Jun  4 16:16:23 MDT 1998</p>
</div>
      <div id="contentFooter"><a href="http://www.perl.org"><img src="perlpowered.png" border=0></a></div>
    </div>
  </div>

  <div id="right">
    <div id="rightContent">
      <div id="leftClose">
        <a href="#" onClick="closeRight()" title="Hide toolbar" onmouseover="rightCloseIcon.src='close_purple.gif';" onmouseout="rightCloseIcon.src='close_blue.gif';"><img src="close_blue.gif" name="rightCloseIcon" id="rightCloseIcon" border=0></a>
      </div>
      <h1>Search:</h1>
      <p>
        <form action="search.html" name="perldoc_search">
	  <input type="text" name="q" size="10" class="grey"><br>
	  <!--<select name="r"><option value="1" selected>Go to top result<option value="0">Show results list</select>-->
	</form>
      </p>
      <h2>Labels:</h2>
      <p>
        <a href="#" onClick="addLabel('perllol','perllol.html')">Add this page</a>
      </p>
      <div class="labels" id="labels">
      </div>
    </div>
  </div>

</div>

</body>
</html>
