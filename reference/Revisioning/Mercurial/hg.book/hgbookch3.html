<?xml version="1.0" encoding="iso-8859-1" ?> 
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">  
<!--http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd-->  
<html xmlns="http://www.w3.org/1999/xhtml"  
> 
<head><title>3 A tour of Mercurial: merging work</title> 
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)" /> 
<meta name="originator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)" /> 
<!-- html4-uni,2,html,xhtml --> 
<meta name="src" content="hgbook.tex" /> 
<meta name="date" content="2007-12-14 11:09:00" /> 
<link rel="stylesheet" type="text/css" href="hgbook.css" /> 
</head><body 
>
   <!--l. 1--><div class="crosslinks"><p class="noindent">[<a 
href="hgbookch4.html" >next</a>] [<a 
href="hgbookch2.html" >prev</a>] [<a 
href="hgbookch2.html#tailhgbookch2.html" >prev-tail</a>] [<a 
href="#tailhgbookch3.html">tail</a>] [<a 
href="hgbook.html#hgbookch3.html" >up</a>] </p></div>
   <h2 class="chapterHead"><span class="titlemark">Chapter&#x00A0;3</span><br /><a 
 id="x7-550003"></a>A tour of Mercurial: merging work</h2>
<!--l. 4--><p class="noindent" >We&#x2019;ve now covered cloning a repository, making changes in a repository, and pulling or pushing changes from one repository
into another. Our next step is <span 
class="ptmri7t-">merging </span>changes from separate repositories.
</p>
   <h3 class="sectionHead"><span class="titlemark">3.1    </span> <a 
 id="x7-560003.1"></a>Merging streams of work</h3>
<!--l. 11--><p class="noindent" >Merging is a fundamental part of working with a distributed revision control tool. </p>
     <ul><li><span class="dt">
     </span><span class="dd">Alice and Bob each have a personal copy of a repository for a project they&#x2019;re collaborating on. Alice fixes a bug
     in her repository; Bob adds a new feature in his. They want the shared repository to contain both the bug fix and
     the new feature.
     </span><li><span class="dt">
     </span><span class="dd">I frequently work on several different tasks for a single project at once, each safely isolated in its own repository.
     Working this way means that I often need to merge one piece of my own work with another.</li></ul>
<!--l. 24--><p class="indent" >   Because merging is such a common thing to need to do, Mercurial makes it easy. Let&#x2019;s walk through the
process. We&#x2019;ll begin by cloning yet another repository (see how often they spring up?) and making a change in
it.
</p>
   <div class="fancyvrb" id="fancyvrb">
<a 
 id="x7-56002r1"></a><span 
class="ptmr7t-x-x-50">1</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;$</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrb7t-">cd</span><span 
class="pcrb7t-">&#x00A0;..</span>
<br class="fancyvrb" /><a 
 id="x7-56004r2"></a><span 
class="ptmr7t-x-x-50">2</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;$</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrb7t-">hg</span><span 
class="pcrb7t-">&#x00A0;clone</span><span 
class="pcrb7t-">&#x00A0;hello</span><span 
class="pcrb7t-">&#x00A0;my-new-hello</span>
<br class="fancyvrb" /><a 
 id="x7-56006r3"></a><span 
class="ptmr7t-x-x-50">3</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;2</span><span 
class="pcrr7tn-">&#x00A0;files</span><span 
class="pcrr7tn-">&#x00A0;updated,</span><span 
class="pcrr7tn-">&#x00A0;0</span><span 
class="pcrr7tn-">&#x00A0;files</span><span 
class="pcrr7tn-">&#x00A0;merged,</span><span 
class="pcrr7tn-">&#x00A0;0</span><span 
class="pcrr7tn-">&#x00A0;files</span><span 
class="pcrr7tn-">&#x00A0;removed,</span><span 
class="pcrr7tn-">&#x00A0;0</span><span 
class="pcrr7tn-">&#x00A0;files</span><span 
class="pcrr7tn-">&#x00A0;unresolved</span>
<br class="fancyvrb" /><a 
 id="x7-56008r4"></a><span 
class="ptmr7t-x-x-50">4</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;$</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrb7t-">cd</span><span 
class="pcrb7t-">&#x00A0;my-new-hello</span>
<br class="fancyvrb" /><a 
 id="x7-56010r5"></a><span 
class="ptmr7t-x-x-50">5</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;$</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrb7t-">sed</span><span 
class="pcrb7t-">&#x00A0;-i</span><span 
class="pcrb7t-">&#x00A0;'/printf/i</span><span 
class="cmsy-10">&#x2216;&#x2216;</span><span 
class="pcrb7t-">tprintf("once</span><span 
class="pcrb7t-">&#x00A0;more,</span><span 
class="pcrb7t-">&#x00A0;hello.</span><span 
class="cmsy-10">&#x2216;&#x2216;</span><span 
class="pcrb7t-">n");'</span><span 
class="pcrb7t-">&#x00A0;hello.c</span>
<br class="fancyvrb" /><a 
 id="x7-56012r6"></a><span 
class="ptmr7t-x-x-50">6</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;$</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrb7t-">hg</span><span 
class="pcrb7t-">&#x00A0;commit</span><span 
class="pcrb7t-">&#x00A0;-m</span><span 
class="pcrb7t-">&#x00A0;'A</span><span 
class="pcrb7t-">&#x00A0;new</span><span 
class="pcrb7t-">&#x00A0;hello</span><span 
class="pcrb7t-">&#x00A0;for</span><span 
class="pcrb7t-">&#x00A0;a</span><span 
class="pcrb7t-">&#x00A0;new</span><span 
class="pcrb7t-">&#x00A0;day.'</span>
   </div>
<!--l. 29--><p class="noindent" >We should now have two copies of <span 
class="pcrr7tn-">hello.c </span>with different contents. The histories of the two repositories have also diverged, as
illustrated in figure&#x00A0;<a 
href="#x7-560691">3.1<!--tex4ht:ref: fig:tour-merge:sep-repos --></a>.
</p>
   <div class="fancyvrb" id="fancyvrb">
<a 
 id="x7-56014r1"></a><span 
class="ptmr7t-x-x-50">1</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;$</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrb7t-">cat</span><span 
class="pcrb7t-">&#x00A0;hello.c</span>
<br class="fancyvrb" /><a 
 id="x7-56016r2"></a><span 
class="ptmr7t-x-x-50">2</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;/&#x22C6;</span>
<br class="fancyvrb" /><a 
 id="x7-56018r3"></a><span 
class="ptmr7t-x-x-50">3</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;&#x22C6;</span><span 
class="pcrr7tn-">&#x00A0;Placed</span><span 
class="pcrr7tn-">&#x00A0;in</span><span 
class="pcrr7tn-">&#x00A0;the</span><span 
class="pcrr7tn-">&#x00A0;public</span><span 
class="pcrr7tn-">&#x00A0;domain</span><span 
class="pcrr7tn-">&#x00A0;by</span><span 
class="pcrr7tn-">&#x00A0;Bryan</span><span 
class="pcrr7tn-">&#x00A0;O'Sullivan.</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;This</span><span 
class="pcrr7tn-">&#x00A0;program</span><span 
class="pcrr7tn-">&#x00A0;is</span>
<br class="fancyvrb" /><a 
 id="x7-56020r4"></a><span 
class="ptmr7t-x-x-50">4</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;&#x22C6;</span><span 
class="pcrr7tn-">&#x00A0;not</span><span 
class="pcrr7tn-">&#x00A0;covered</span><span 
class="pcrr7tn-">&#x00A0;by</span><span 
class="pcrr7tn-">&#x00A0;patents</span><span 
class="pcrr7tn-">&#x00A0;in</span><span 
class="pcrr7tn-">&#x00A0;the</span><span 
class="pcrr7tn-">&#x00A0;United</span><span 
class="pcrr7tn-">&#x00A0;States</span><span 
class="pcrr7tn-">&#x00A0;or</span><span 
class="pcrr7tn-">&#x00A0;other</span><span 
class="pcrr7tn-">&#x00A0;countries.</span>
<br class="fancyvrb" /><a 
 id="x7-56022r5"></a><span 
class="ptmr7t-x-x-50">5</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;&#x22C6;/</span>
<br class="fancyvrb" /><a 
 id="x7-56024r6"></a><span 
class="ptmr7t-x-x-50">6</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span>
<br class="fancyvrb" /><a 
 id="x7-56026r7"></a><span 
class="ptmr7t-x-x-50">7</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;#include</span><span 
class="pcrr7tn-">&#x00A0;&#x003c;stdio.h&#x003e;</span>
<br class="fancyvrb" /><a 
 id="x7-56028r8"></a><span 
class="ptmr7t-x-x-50">8</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span>
<br class="fancyvrb" /><a 
 id="x7-56030r9"></a><span 
class="ptmr7t-x-x-50">9</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;int</span><span 
class="pcrr7tn-">&#x00A0;main(int</span><span 
class="pcrr7tn-">&#x00A0;argc,</span><span 
class="pcrr7tn-">&#x00A0;char</span><span 
class="pcrr7tn-">&#x00A0;&#x22C6;&#x22C6;argv)</span>
<br class="fancyvrb" /><a 
 id="x7-56032r10"></a><span 
class="ptmr7t-x-x-50">10</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="cmsy-10">{</span>
<br class="fancyvrb" /><a 
 id="x7-56034r11"></a><span 
class="ptmr7t-x-x-50">11</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;        printf("once</span><span 
class="pcrr7tn-">&#x00A0;more,</span><span 
class="pcrr7tn-">&#x00A0;hello.</span><span 
class="cmsy-10">&#x2216;</span><span 
class="pcrr7tn-">n");</span>
<br class="fancyvrb" /><a 
 id="x7-56036r12"></a><span 
class="ptmr7t-x-x-50">12</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;        printf("hello,</span><span 
class="pcrr7tn-">&#x00A0;world!</span><span 
class="cmsy-10">&#x2216;</span><span 
class="pcrr7tn-">");</span>
<br class="fancyvrb" /><a 
 id="x7-56038r13"></a><span 
class="ptmr7t-x-x-50">13</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;        return</span><span 
class="pcrr7tn-">&#x00A0;0;</span>
<br class="fancyvrb" /><a 
 id="x7-56040r14"></a><span 
class="ptmr7t-x-x-50">14</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="cmsy-10">}</span>
<br class="fancyvrb" /><a 
 id="x7-56042r15"></a><span 
class="ptmr7t-x-x-50">15</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;$</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrb7t-">cat</span><span 
class="pcrb7t-">&#x00A0;../my-hello/hello.c</span>
<br class="fancyvrb" /><a 
 id="x7-56044r16"></a><span 
class="ptmr7t-x-x-50">16</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;/&#x22C6;</span>
                                                                                         
                                                                                         
<br class="fancyvrb" /><a 
 id="x7-56046r17"></a><span 
class="ptmr7t-x-x-50">17</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;&#x22C6;</span><span 
class="pcrr7tn-">&#x00A0;Placed</span><span 
class="pcrr7tn-">&#x00A0;in</span><span 
class="pcrr7tn-">&#x00A0;the</span><span 
class="pcrr7tn-">&#x00A0;public</span><span 
class="pcrr7tn-">&#x00A0;domain</span><span 
class="pcrr7tn-">&#x00A0;by</span><span 
class="pcrr7tn-">&#x00A0;Bryan</span><span 
class="pcrr7tn-">&#x00A0;O'Sullivan.</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;This</span><span 
class="pcrr7tn-">&#x00A0;program</span><span 
class="pcrr7tn-">&#x00A0;is</span>
<br class="fancyvrb" /><a 
 id="x7-56048r18"></a><span 
class="ptmr7t-x-x-50">18</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;&#x22C6;</span><span 
class="pcrr7tn-">&#x00A0;not</span><span 
class="pcrr7tn-">&#x00A0;covered</span><span 
class="pcrr7tn-">&#x00A0;by</span><span 
class="pcrr7tn-">&#x00A0;patents</span><span 
class="pcrr7tn-">&#x00A0;in</span><span 
class="pcrr7tn-">&#x00A0;the</span><span 
class="pcrr7tn-">&#x00A0;United</span><span 
class="pcrr7tn-">&#x00A0;States</span><span 
class="pcrr7tn-">&#x00A0;or</span><span 
class="pcrr7tn-">&#x00A0;other</span><span 
class="pcrr7tn-">&#x00A0;countries.</span>
<br class="fancyvrb" /><a 
 id="x7-56050r19"></a><span 
class="ptmr7t-x-x-50">19</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;&#x22C6;/</span>
<br class="fancyvrb" /><a 
 id="x7-56052r20"></a><span 
class="ptmr7t-x-x-50">20</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span>
<br class="fancyvrb" /><a 
 id="x7-56054r21"></a><span 
class="ptmr7t-x-x-50">21</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;#include</span><span 
class="pcrr7tn-">&#x00A0;&#x003c;stdio.h&#x003e;</span>
<br class="fancyvrb" /><a 
 id="x7-56056r22"></a><span 
class="ptmr7t-x-x-50">22</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span>
<br class="fancyvrb" /><a 
 id="x7-56058r23"></a><span 
class="ptmr7t-x-x-50">23</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;int</span><span 
class="pcrr7tn-">&#x00A0;main(int</span><span 
class="pcrr7tn-">&#x00A0;argc,</span><span 
class="pcrr7tn-">&#x00A0;char</span><span 
class="pcrr7tn-">&#x00A0;&#x22C6;&#x22C6;argv)</span>
<br class="fancyvrb" /><a 
 id="x7-56060r24"></a><span 
class="ptmr7t-x-x-50">24</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="cmsy-10">{</span>
<br class="fancyvrb" /><a 
 id="x7-56062r25"></a><span 
class="ptmr7t-x-x-50">25</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;        printf("hello,</span><span 
class="pcrr7tn-">&#x00A0;world!</span><span 
class="cmsy-10">&#x2216;</span><span 
class="pcrr7tn-">");</span>
<br class="fancyvrb" /><a 
 id="x7-56064r26"></a><span 
class="ptmr7t-x-x-50">26</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;        printf("hello</span><span 
class="pcrr7tn-">&#x00A0;again!</span><span 
class="cmsy-10">&#x2216;</span><span 
class="pcrr7tn-">n");</span>
<br class="fancyvrb" /><a 
 id="x7-56066r27"></a><span 
class="ptmr7t-x-x-50">27</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;        return</span><span 
class="pcrr7tn-">&#x00A0;0;</span>
<br class="fancyvrb" /><a 
 id="x7-56068r28"></a><span 
class="ptmr7t-x-x-50">28</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="cmsy-10">}</span>
   </div>
   <hr class="figure" /><div class="figure" 
><table class="figure"><tr class="figure"><td class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x7-560691"></a>
                                                                                         
                                                                                         
<!--l. 36--><p class="noindent" ><img 
src="tour-merge-sep-repos.png" alt="PIC"  
 />
<br /> </p><table class="caption" 
><tr style="vertical-align:baseline;" class="caption"><td class="id">Figure&#x00A0;3.1: </td><td  
class="content">Divergent recent histories of the <span 
class="pcrr7tn-">my-hello </span>and <span 
class="pcrr7tn-">my-new-hello </span>repositories</td></tr></table><!--tex4ht:label?: x7-560691 -->
                                                                                         
                                                                                         
   </td></tr></table></div><hr class="endfigure" />
<!--l. 42--><p class="indent" >   We already know that pulling changes from our <span 
class="pcrr7tn-">my-hello </span>repository will have no effect on the working
directory.
</p>
   <div class="fancyvrb" id="fancyvrb">
<a 
 id="x7-56071r1"></a><span 
class="ptmr7t-x-x-50">1</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;$</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrb7t-">hg</span><span 
class="pcrb7t-">&#x00A0;pull</span><span 
class="pcrb7t-">&#x00A0;../my-hello</span>
<br class="fancyvrb" /><a 
 id="x7-56073r2"></a><span 
class="ptmr7t-x-x-50">2</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;pulling</span><span 
class="pcrr7tn-">&#x00A0;from</span><span 
class="pcrr7tn-">&#x00A0;../my-hello</span>
<br class="fancyvrb" /><a 
 id="x7-56075r3"></a><span 
class="ptmr7t-x-x-50">3</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;searching</span><span 
class="pcrr7tn-">&#x00A0;for</span><span 
class="pcrr7tn-">&#x00A0;changes</span>
<br class="fancyvrb" /><a 
 id="x7-56077r4"></a><span 
class="ptmr7t-x-x-50">4</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;adding</span><span 
class="pcrr7tn-">&#x00A0;changesets</span>
<br class="fancyvrb" /><a 
 id="x7-56079r5"></a><span 
class="ptmr7t-x-x-50">5</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;adding</span><span 
class="pcrr7tn-">&#x00A0;manifests</span>
<br class="fancyvrb" /><a 
 id="x7-56081r6"></a><span 
class="ptmr7t-x-x-50">6</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;adding</span><span 
class="pcrr7tn-">&#x00A0;file</span><span 
class="pcrr7tn-">&#x00A0;changes</span>
<br class="fancyvrb" /><a 
 id="x7-56083r7"></a><span 
class="ptmr7t-x-x-50">7</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;added</span><span 
class="pcrr7tn-">&#x00A0;1</span><span 
class="pcrr7tn-">&#x00A0;changesets</span><span 
class="pcrr7tn-">&#x00A0;with</span><span 
class="pcrr7tn-">&#x00A0;1</span><span 
class="pcrr7tn-">&#x00A0;changes</span><span 
class="pcrr7tn-">&#x00A0;to</span><span 
class="pcrr7tn-">&#x00A0;1</span><span 
class="pcrr7tn-">&#x00A0;files</span><span 
class="pcrr7tn-">&#x00A0;(+1</span><span 
class="pcrr7tn-">&#x00A0;heads)</span>
<br class="fancyvrb" /><a 
 id="x7-56085r8"></a><span 
class="ptmr7t-x-x-50">8</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;(run</span><span 
class="pcrr7tn-">&#x00A0;'hg</span><span 
class="pcrr7tn-">&#x00A0;heads'</span><span 
class="pcrr7tn-">&#x00A0;to</span><span 
class="pcrr7tn-">&#x00A0;see</span><span 
class="pcrr7tn-">&#x00A0;heads,</span><span 
class="pcrr7tn-">&#x00A0;'hg</span><span 
class="pcrr7tn-">&#x00A0;merge'</span><span 
class="pcrr7tn-">&#x00A0;to</span><span 
class="pcrr7tn-">&#x00A0;merge)</span>
   </div>
<!--l. 45--><p class="noindent" >However, the <a 
 id="dx7-56086"></a>&#x201C;<span 
class="pcrr7tn-">hg pull</span>&#x201D; command says something about &#x201C;heads&#x201D;.
</p>
   <h4 class="subsectionHead"><span class="titlemark">3.1.1    </span> <a 
 id="x7-570003.1.1"></a>Head changesets</h4>
<!--l. 49--><p class="noindent" >A head is a change that has no descendants, or children, as they&#x2019;re also known. The tip revision is thus a head,
because the newest revision in a repository doesn&#x2019;t have any children, but a repository can contain more than one
head.
</p>
   <hr class="figure" /><div class="figure" 
><table class="figure"><tr class="figure"><td class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x7-570012"></a>
                                                                                         
                                                                                         
<!--l. 56--><p class="noindent" ><img 
src="tour-merge-pull.png" alt="PIC"  
 />
<br /> </p><table class="caption" 
><tr style="vertical-align:baseline;" class="caption"><td class="id">Figure&#x00A0;3.2: </td><td  
class="content">Repository contents after pulling from <span 
class="pcrr7tn-">my-hello </span>into <span 
class="pcrr7tn-">my-new-hello</span></td></tr></table><!--tex4ht:label?: x7-570012 -->
                                                                                         
                                                                                         
   </td></tr></table></div><hr class="endfigure" />
<!--l. 62--><p class="indent" >   In figure&#x00A0;<a 
href="#x7-570012">3.2<!--tex4ht:ref: fig:tour-merge:pull --></a>, you can see the effect of the pull from <span 
class="pcrr7tn-">my-hello </span>into <span 
class="pcrr7tn-">my-new-hello</span>. The history that was already present in
<span 
class="pcrr7tn-">my-new-hello </span>is untouched, but a new revision has been added. By referring to figure&#x00A0;<a 
href="#x7-560691">3.1<!--tex4ht:ref: fig:tour-merge:sep-repos --></a>, we can see that the <span 
class="ptmri7t-">changeset ID</span>
remains the same in the new repository, but the <span 
class="ptmri7t-">revision number </span>has changed. (This, incidentally, is a fine example of why it&#x2019;s
not safe to use revision numbers when discussing changesets.) We can view the heads in a repository using the <a 
 id="dx7-57002"></a>&#x201C;<span 
class="pcrr7tn-">hg heads</span>&#x201D;
command.
</p>
   <div class="fancyvrb" id="fancyvrb">
<a 
 id="x7-57004r1"></a><span 
class="ptmr7t-x-x-50">1</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;$</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrb7t-">hg</span><span 
class="pcrb7t-">&#x00A0;heads</span>
<br class="fancyvrb" /><a 
 id="x7-57006r2"></a><span 
class="ptmr7t-x-x-50">2</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;changeset:</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;6:fc920a075b40</span>
<br class="fancyvrb" /><a 
 id="x7-57008r3"></a><span 
class="ptmr7t-x-x-50">3</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;tag:</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;tip</span>
<br class="fancyvrb" /><a 
 id="x7-57010r4"></a><span 
class="ptmr7t-x-x-50">4</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;parent:</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;4:b57f9a090b62</span>
<br class="fancyvrb" /><a 
 id="x7-57012r5"></a><span 
class="ptmr7t-x-x-50">5</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;user:</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;Bryan</span><span 
class="pcrr7tn-">&#x00A0;O'Sullivan</span><span 
class="pcrr7tn-">&#x00A0;&#x003c;bos@serpentine.com&#x003e;</span>
<br class="fancyvrb" /><a 
 id="x7-57014r6"></a><span 
class="ptmr7t-x-x-50">6</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;date:</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;Mon</span><span 
class="pcrr7tn-">&#x00A0;Dec</span><span 
class="pcrr7tn-">&#x00A0;10</span><span 
class="pcrr7tn-">&#x00A0;19:55:40</span><span 
class="pcrr7tn-">&#x00A0;2007</span><span 
class="pcrr7tn-">&#x00A0;+0000</span>
<br class="fancyvrb" /><a 
 id="x7-57016r7"></a><span 
class="ptmr7t-x-x-50">7</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;summary:</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;Added</span><span 
class="pcrr7tn-">&#x00A0;an</span><span 
class="pcrr7tn-">&#x00A0;extra</span><span 
class="pcrr7tn-">&#x00A0;line</span><span 
class="pcrr7tn-">&#x00A0;of</span><span 
class="pcrr7tn-">&#x00A0;output</span>
<br class="fancyvrb" /><a 
 id="x7-57018r8"></a><span 
class="ptmr7t-x-x-50">8</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span>
<br class="fancyvrb" /><a 
 id="x7-57020r9"></a><span 
class="ptmr7t-x-x-50">9</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;changeset:</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;5:6b25c84e540c</span>
<br class="fancyvrb" /><a 
 id="x7-57022r10"></a><span 
class="ptmr7t-x-x-50">10</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;user:</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;Bryan</span><span 
class="pcrr7tn-">&#x00A0;O'Sullivan</span><span 
class="pcrr7tn-">&#x00A0;&#x003c;bos@serpentine.com&#x003e;</span>
<br class="fancyvrb" /><a 
 id="x7-57024r11"></a><span 
class="ptmr7t-x-x-50">11</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;date:</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;Mon</span><span 
class="pcrr7tn-">&#x00A0;Dec</span><span 
class="pcrr7tn-">&#x00A0;10</span><span 
class="pcrr7tn-">&#x00A0;19:55:42</span><span 
class="pcrr7tn-">&#x00A0;2007</span><span 
class="pcrr7tn-">&#x00A0;+0000</span>
<br class="fancyvrb" /><a 
 id="x7-57026r12"></a><span 
class="ptmr7t-x-x-50">12</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;summary:</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;A</span><span 
class="pcrr7tn-">&#x00A0;new</span><span 
class="pcrr7tn-">&#x00A0;hello</span><span 
class="pcrr7tn-">&#x00A0;for</span><span 
class="pcrr7tn-">&#x00A0;a</span><span 
class="pcrr7tn-">&#x00A0;new</span><span 
class="pcrr7tn-">&#x00A0;day.</span>
<br class="fancyvrb" /><a 
 id="x7-57028r13"></a><span 
class="ptmr7t-x-x-50">13</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span>
   </div>
   <h4 class="subsectionHead"><span class="titlemark">3.1.2    </span> <a 
 id="x7-580003.1.2"></a>Performing the merge</h4>
<!--l. 76--><p class="noindent" >What happens if we try to use the normal <a 
 id="dx7-58001"></a>&#x201C;<span 
class="pcrr7tn-">hg update</span>&#x201D; command to update to the new tip?
</p>
   <div class="fancyvrb" id="fancyvrb">
<a 
 id="x7-58003r1"></a><span 
class="ptmr7t-x-x-50">1</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;$</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrb7t-">hg</span><span 
class="pcrb7t-">&#x00A0;update</span>
<br class="fancyvrb" /><a 
 id="x7-58005r2"></a><span 
class="ptmr7t-x-x-50">2</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;abort:</span><span 
class="pcrr7tn-">&#x00A0;update</span><span 
class="pcrr7tn-">&#x00A0;spans</span><span 
class="pcrr7tn-">&#x00A0;branches,</span><span 
class="pcrr7tn-">&#x00A0;use</span><span 
class="pcrr7tn-">&#x00A0;'hg</span><span 
class="pcrr7tn-">&#x00A0;merge'</span><span 
class="pcrr7tn-">&#x00A0;or</span><span 
class="pcrr7tn-">&#x00A0;'hg</span><span 
class="pcrr7tn-">&#x00A0;update</span><span 
class="pcrr7tn-">&#x00A0;-C'</span><span 
class="pcrr7tn-">&#x00A0;to</span><span 
class="pcrr7tn-">&#x00A0;lose</span><span 
class="pcrr7tn-">&#x00A0;changes</span>
   </div>
<!--l. 79--><p class="noindent" >Mercurial is telling us that the <a 
 id="dx7-58006"></a>&#x201C;<span 
class="pcrr7tn-">hg update</span>&#x201D; command won&#x2019;t do a merge; it won&#x2019;t update the working directory when it thinks we
might be wanting to do a merge, unless we force it to do so. Instead, we use the <a 
 id="dx7-58007"></a>&#x201C;<span 
class="pcrr7tn-">hg merge</span>&#x201D; command to merge the two
heads.
</p>
   <div class="fancyvrb" id="fancyvrb">
<a 
 id="x7-58009r1"></a><span 
class="ptmr7t-x-x-50">1</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;$</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrb7t-">hg</span><span 
class="pcrb7t-">&#x00A0;merge</span>
<br class="fancyvrb" /><a 
 id="x7-58011r2"></a><span 
class="ptmr7t-x-x-50">2</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;merging</span><span 
class="pcrr7tn-">&#x00A0;hello.c</span>
<br class="fancyvrb" /><a 
 id="x7-58013r3"></a><span 
class="ptmr7t-x-x-50">3</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;0</span><span 
class="pcrr7tn-">&#x00A0;files</span><span 
class="pcrr7tn-">&#x00A0;updated,</span><span 
class="pcrr7tn-">&#x00A0;1</span><span 
class="pcrr7tn-">&#x00A0;files</span><span 
class="pcrr7tn-">&#x00A0;merged,</span><span 
class="pcrr7tn-">&#x00A0;0</span><span 
class="pcrr7tn-">&#x00A0;files</span><span 
class="pcrr7tn-">&#x00A0;removed,</span><span 
class="pcrr7tn-">&#x00A0;0</span><span 
class="pcrr7tn-">&#x00A0;files</span><span 
class="pcrr7tn-">&#x00A0;unresolved</span>
<br class="fancyvrb" /><a 
 id="x7-58015r4"></a><span 
class="ptmr7t-x-x-50">4</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;(branch</span><span 
class="pcrr7tn-">&#x00A0;merge,</span><span 
class="pcrr7tn-">&#x00A0;don't</span><span 
class="pcrr7tn-">&#x00A0;forget</span><span 
class="pcrr7tn-">&#x00A0;to</span><span 
class="pcrr7tn-">&#x00A0;commit)</span>
   </div>
   <hr class="figure" /><div class="figure" 
><table class="figure"><tr class="figure"><td class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x7-580163"></a>
                                                                                         
                                                                                         
<!--l. 87--><p class="noindent" ><img 
src="tour-merge-merge.png" alt="PIC"  
 />
<br /> </p><table class="caption" 
><tr style="vertical-align:baseline;" class="caption"><td class="id">Figure&#x00A0;3.3: </td><td  
class="content">Working directory and repository during merge, and following commit</td></tr></table><!--tex4ht:label?: x7-580163 -->
                                                                                         
                                                                                         
   </td></tr></table></div><hr class="endfigure" />
<!--l. 93--><p class="indent" >   This updates the working directory so that it contains changes from <span 
class="ptmri7t-">both </span>heads, which is reflected in both the output of <a 
 id="dx7-58017"></a>&#x201C;<span 
class="pcrr7tn-">hg</span>
<span 
class="pcrr7tn-">parents</span>&#x201D; and the contents of <span 
class="pcrr7tn-">hello.c</span>.
</p>
   <div class="fancyvrb" id="fancyvrb">
<a 
 id="x7-58019r1"></a><span 
class="ptmr7t-x-x-50">1</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;$</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrb7t-">hg</span><span 
class="pcrb7t-">&#x00A0;parents</span>
<br class="fancyvrb" /><a 
 id="x7-58021r2"></a><span 
class="ptmr7t-x-x-50">2</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;changeset:</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;5:6b25c84e540c</span>
<br class="fancyvrb" /><a 
 id="x7-58023r3"></a><span 
class="ptmr7t-x-x-50">3</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;user:</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;Bryan</span><span 
class="pcrr7tn-">&#x00A0;O'Sullivan</span><span 
class="pcrr7tn-">&#x00A0;&#x003c;bos@serpentine.com&#x003e;</span>
<br class="fancyvrb" /><a 
 id="x7-58025r4"></a><span 
class="ptmr7t-x-x-50">4</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;date:</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;Mon</span><span 
class="pcrr7tn-">&#x00A0;Dec</span><span 
class="pcrr7tn-">&#x00A0;10</span><span 
class="pcrr7tn-">&#x00A0;19:55:42</span><span 
class="pcrr7tn-">&#x00A0;2007</span><span 
class="pcrr7tn-">&#x00A0;+0000</span>
<br class="fancyvrb" /><a 
 id="x7-58027r5"></a><span 
class="ptmr7t-x-x-50">5</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;summary:</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;A</span><span 
class="pcrr7tn-">&#x00A0;new</span><span 
class="pcrr7tn-">&#x00A0;hello</span><span 
class="pcrr7tn-">&#x00A0;for</span><span 
class="pcrr7tn-">&#x00A0;a</span><span 
class="pcrr7tn-">&#x00A0;new</span><span 
class="pcrr7tn-">&#x00A0;day.</span>
<br class="fancyvrb" /><a 
 id="x7-58029r6"></a><span 
class="ptmr7t-x-x-50">6</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span>
<br class="fancyvrb" /><a 
 id="x7-58031r7"></a><span 
class="ptmr7t-x-x-50">7</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;changeset:</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;6:fc920a075b40</span>
<br class="fancyvrb" /><a 
 id="x7-58033r8"></a><span 
class="ptmr7t-x-x-50">8</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;tag:</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;tip</span>
<br class="fancyvrb" /><a 
 id="x7-58035r9"></a><span 
class="ptmr7t-x-x-50">9</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;parent:</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;4:b57f9a090b62</span>
<br class="fancyvrb" /><a 
 id="x7-58037r10"></a><span 
class="ptmr7t-x-x-50">10</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;user:</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;Bryan</span><span 
class="pcrr7tn-">&#x00A0;O'Sullivan</span><span 
class="pcrr7tn-">&#x00A0;&#x003c;bos@serpentine.com&#x003e;</span>
<br class="fancyvrb" /><a 
 id="x7-58039r11"></a><span 
class="ptmr7t-x-x-50">11</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;date:</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;Mon</span><span 
class="pcrr7tn-">&#x00A0;Dec</span><span 
class="pcrr7tn-">&#x00A0;10</span><span 
class="pcrr7tn-">&#x00A0;19:55:40</span><span 
class="pcrr7tn-">&#x00A0;2007</span><span 
class="pcrr7tn-">&#x00A0;+0000</span>
<br class="fancyvrb" /><a 
 id="x7-58041r12"></a><span 
class="ptmr7t-x-x-50">12</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;summary:</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;Added</span><span 
class="pcrr7tn-">&#x00A0;an</span><span 
class="pcrr7tn-">&#x00A0;extra</span><span 
class="pcrr7tn-">&#x00A0;line</span><span 
class="pcrr7tn-">&#x00A0;of</span><span 
class="pcrr7tn-">&#x00A0;output</span>
<br class="fancyvrb" /><a 
 id="x7-58043r13"></a><span 
class="ptmr7t-x-x-50">13</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span>
<br class="fancyvrb" /><a 
 id="x7-58045r14"></a><span 
class="ptmr7t-x-x-50">14</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;$</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrb7t-">cat</span><span 
class="pcrb7t-">&#x00A0;hello.c</span>
<br class="fancyvrb" /><a 
 id="x7-58047r15"></a><span 
class="ptmr7t-x-x-50">15</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;/&#x22C6;</span>
<br class="fancyvrb" /><a 
 id="x7-58049r16"></a><span 
class="ptmr7t-x-x-50">16</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;&#x22C6;</span><span 
class="pcrr7tn-">&#x00A0;Placed</span><span 
class="pcrr7tn-">&#x00A0;in</span><span 
class="pcrr7tn-">&#x00A0;the</span><span 
class="pcrr7tn-">&#x00A0;public</span><span 
class="pcrr7tn-">&#x00A0;domain</span><span 
class="pcrr7tn-">&#x00A0;by</span><span 
class="pcrr7tn-">&#x00A0;Bryan</span><span 
class="pcrr7tn-">&#x00A0;O'Sullivan.</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;This</span><span 
class="pcrr7tn-">&#x00A0;program</span><span 
class="pcrr7tn-">&#x00A0;is</span>
<br class="fancyvrb" /><a 
 id="x7-58051r17"></a><span 
class="ptmr7t-x-x-50">17</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;&#x22C6;</span><span 
class="pcrr7tn-">&#x00A0;not</span><span 
class="pcrr7tn-">&#x00A0;covered</span><span 
class="pcrr7tn-">&#x00A0;by</span><span 
class="pcrr7tn-">&#x00A0;patents</span><span 
class="pcrr7tn-">&#x00A0;in</span><span 
class="pcrr7tn-">&#x00A0;the</span><span 
class="pcrr7tn-">&#x00A0;United</span><span 
class="pcrr7tn-">&#x00A0;States</span><span 
class="pcrr7tn-">&#x00A0;or</span><span 
class="pcrr7tn-">&#x00A0;other</span><span 
class="pcrr7tn-">&#x00A0;countries.</span>
<br class="fancyvrb" /><a 
 id="x7-58053r18"></a><span 
class="ptmr7t-x-x-50">18</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;&#x22C6;/</span>
<br class="fancyvrb" /><a 
 id="x7-58055r19"></a><span 
class="ptmr7t-x-x-50">19</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span>
<br class="fancyvrb" /><a 
 id="x7-58057r20"></a><span 
class="ptmr7t-x-x-50">20</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;#include</span><span 
class="pcrr7tn-">&#x00A0;&#x003c;stdio.h&#x003e;</span>
<br class="fancyvrb" /><a 
 id="x7-58059r21"></a><span 
class="ptmr7t-x-x-50">21</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span>
<br class="fancyvrb" /><a 
 id="x7-58061r22"></a><span 
class="ptmr7t-x-x-50">22</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;int</span><span 
class="pcrr7tn-">&#x00A0;main(int</span><span 
class="pcrr7tn-">&#x00A0;argc,</span><span 
class="pcrr7tn-">&#x00A0;char</span><span 
class="pcrr7tn-">&#x00A0;&#x22C6;&#x22C6;argv)</span>
<br class="fancyvrb" /><a 
 id="x7-58063r23"></a><span 
class="ptmr7t-x-x-50">23</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="cmsy-10">{</span>
<br class="fancyvrb" /><a 
 id="x7-58065r24"></a><span 
class="ptmr7t-x-x-50">24</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;        printf("once</span><span 
class="pcrr7tn-">&#x00A0;more,</span><span 
class="pcrr7tn-">&#x00A0;hello.</span><span 
class="cmsy-10">&#x2216;</span><span 
class="pcrr7tn-">n");</span>
<br class="fancyvrb" /><a 
 id="x7-58067r25"></a><span 
class="ptmr7t-x-x-50">25</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;        printf("hello,</span><span 
class="pcrr7tn-">&#x00A0;world!</span><span 
class="cmsy-10">&#x2216;</span><span 
class="pcrr7tn-">");</span>
<br class="fancyvrb" /><a 
 id="x7-58069r26"></a><span 
class="ptmr7t-x-x-50">26</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;        printf("hello</span><span 
class="pcrr7tn-">&#x00A0;again!</span><span 
class="cmsy-10">&#x2216;</span><span 
class="pcrr7tn-">n");</span>
<br class="fancyvrb" /><a 
 id="x7-58071r27"></a><span 
class="ptmr7t-x-x-50">27</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;        return</span><span 
class="pcrr7tn-">&#x00A0;0;</span>
<br class="fancyvrb" /><a 
 id="x7-58073r28"></a><span 
class="ptmr7t-x-x-50">28</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="cmsy-10">}</span>
   </div>
   <h4 class="subsectionHead"><span class="titlemark">3.1.3    </span> <a 
 id="x7-590003.1.3"></a>Committing the results of the merge</h4>
<!--l. 100--><p class="noindent" >Whenever we&#x2019;ve done a merge, <a 
 id="dx7-59001"></a>&#x201C;<span 
class="pcrr7tn-">hg parents</span>&#x201D; will display two parents until we <a 
 id="dx7-59002"></a>&#x201C;<span 
class="pcrr7tn-">hg commit</span>&#x201D; the results of the
merge.
</p>
   <div class="fancyvrb" id="fancyvrb">
<a 
 id="x7-59004r1"></a><span 
class="ptmr7t-x-x-50">1</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;$</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrb7t-">hg</span><span 
class="pcrb7t-">&#x00A0;commit</span><span 
class="pcrb7t-">&#x00A0;-m</span><span 
class="pcrb7t-">&#x00A0;'Merged</span><span 
class="pcrb7t-">&#x00A0;changes'</span>
   </div>
<!--l. 103--><p class="noindent" >We now have a new tip revision; notice that it has <span 
class="ptmri7t-">both </span>of our former heads as its parents. These are the same revisions that were
previously displayed by <a 
 id="dx7-59005"></a>&#x201C;<span 
class="pcrr7tn-">hg parents</span>&#x201D;.
</p>
   <div class="fancyvrb" id="fancyvrb">
<a 
 id="x7-59007r1"></a><span 
class="ptmr7t-x-x-50">1</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;$</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrb7t-">hg</span><span 
class="pcrb7t-">&#x00A0;tip</span>
<br class="fancyvrb" /><a 
 id="x7-59009r2"></a><span 
class="ptmr7t-x-x-50">2</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;changeset:</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;7:53b340e61e98</span>
                                                                                         
                                                                                         
<br class="fancyvrb" /><a 
 id="x7-59011r3"></a><span 
class="ptmr7t-x-x-50">3</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;tag:</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;tip</span>
<br class="fancyvrb" /><a 
 id="x7-59013r4"></a><span 
class="ptmr7t-x-x-50">4</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;parent:</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;5:6b25c84e540c</span>
<br class="fancyvrb" /><a 
 id="x7-59015r5"></a><span 
class="ptmr7t-x-x-50">5</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;parent:</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;6:fc920a075b40</span>
<br class="fancyvrb" /><a 
 id="x7-59017r6"></a><span 
class="ptmr7t-x-x-50">6</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;user:</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;Bryan</span><span 
class="pcrr7tn-">&#x00A0;O'Sullivan</span><span 
class="pcrr7tn-">&#x00A0;&#x003c;bos@serpentine.com&#x003e;</span>
<br class="fancyvrb" /><a 
 id="x7-59019r7"></a><span 
class="ptmr7t-x-x-50">7</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;date:</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;Mon</span><span 
class="pcrr7tn-">&#x00A0;Dec</span><span 
class="pcrr7tn-">&#x00A0;10</span><span 
class="pcrr7tn-">&#x00A0;19:55:42</span><span 
class="pcrr7tn-">&#x00A0;2007</span><span 
class="pcrr7tn-">&#x00A0;+0000</span>
<br class="fancyvrb" /><a 
 id="x7-59021r8"></a><span 
class="ptmr7t-x-x-50">8</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;summary:</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;Merged</span><span 
class="pcrr7tn-">&#x00A0;changes</span>
<br class="fancyvrb" /><a 
 id="x7-59023r9"></a><span 
class="ptmr7t-x-x-50">9</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span>
   </div>
<!--l. 107--><p class="noindent" >In figure&#x00A0;<a 
href="#x7-580163">3.3<!--tex4ht:ref: fig:tour-merge:merge --></a>, you can see a representation of what happens to the working directory during the merge, and how this affects the
repository when the commit happens. During the merge, the working directory has two parent changesets, and these become
the parents of the new changeset.
</p><!--l. 113--><p class="noindent" >
</p>
   <h3 class="sectionHead"><span class="titlemark">3.2    </span> <a 
 id="x7-600003.2"></a>Merging conflicting changes</h3>
<!--l. 115--><p class="noindent" >Most merges are simple affairs, but sometimes you&#x2019;ll find yourself merging changes where each modifies the same portions of
the same files. Unless both modifications are identical, this results in a <span 
class="ptmri7t-">conflict</span>, where you have to decide how to reconcile the
different changes into something coherent.
</p>
   <hr class="figure" /><div class="figure" 
><table class="figure"><tr class="figure"><td class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x7-600014"></a>
                                                                                         
                                                                                         
<!--l. 123--><p class="noindent" ><img 
src="tour-merge-conflict.png" alt="PIC"  
 />
<br /> </p><table class="caption" 
><tr style="vertical-align:baseline;" class="caption"><td class="id">Figure&#x00A0;3.4: </td><td  
class="content">Conflicting changes to a document</td></tr></table><!--tex4ht:label?: x7-600014 -->
                                                                                         
                                                                                         
   </td></tr></table></div><hr class="endfigure" />
<!--l. 128--><p class="indent" >   Figure&#x00A0;<a 
href="#x7-600014">3.4<!--tex4ht:ref: fig:tour-merge:conflict --></a> illustrates an instance of two conflicting changes to a document. We started with a single version of the file; then
we made some changes; while someone else made different changes to the same text. Our task in resolving the conflicting
changes is to decide what the file should look like.
</p><!--l. 134--><p class="indent" >   Mercurial doesn&#x2019;t have a built-in facility for handling conflicts. Instead, it runs an external program called <a 
 id="dx7-60002"></a><span 
class="pcrr7tn-">hgmerge</span>. This is
a shell script that is bundled with Mercurial; you can change it to behave however you please. What it does by default is try to
find one of several different merging tools that are likely to be installed on your system. It first tries a few fully automatic
merging tools; if these don&#x2019;t succeed (because the resolution process requires human guidance) or aren&#x2019;t present, the script tries
a few different graphical merging tools.
</p><!--l. 144--><p class="indent" >   It&#x2019;s also possible to get Mercurial to run another program or script instead of <a 
 id="dx7-60003"></a><span 
class="pcrr7tn-">hgmerge</span>, by setting the <a 
 id="dx7-60004"></a><a 
 id="dx7-60005"></a><span 
class="pcrr7tn-">HGMERGE </span>environment
variable to the name of your preferred program.
</p>
   <h4 class="subsectionHead"><span class="titlemark">3.2.1    </span> <a 
 id="x7-610003.2.1"></a>Using a graphical merge tool</h4>
<!--l. 150--><p class="noindent" >My preferred graphical merge tool is <a 
 id="dx7-61001"></a><span 
class="pcrr7tn-">kdiff3</span>, which I&#x2019;ll use to describe the features that are common to graphical file merging
tools. You can see a screenshot of <a 
 id="dx7-61002"></a><span 
class="pcrr7tn-">kdiff3 </span>in action in figure&#x00A0;<a 
href="#x7-610035">3.5<!--tex4ht:ref: fig:tour-merge:kdiff3 --></a>. The kind of merge it is performing is called a <span 
class="ptmri7t-">three-way</span>
<span 
class="ptmri7t-">merge</span>, because there are three different versions of the file of interest to us. The tool thus splits the upper portion of the window
into three panes: </p>
     <ul><li><span class="dt">
     </span><span class="dd">At the left is the <span 
class="ptmri7t-">base </span>version of the file, i.e.&#x00A0;the most recent version from which the two versions we&#x2019;re trying
     to merge are descended.
     </span><li><span class="dt">
     </span><span class="dd">In the middle is &#x201C;our&#x201D; version of the file, with the contents that we modified.
     </span><li><span class="dt">
     </span><span class="dd">On the right is &#x201C;their&#x201D; version of the file, the one that from the changeset that we&#x2019;re trying to merge with.</li></ul>
<!--l. 166--><p class="noindent" >In the pane below these is the current <span 
class="ptmri7t-">result </span>of the merge. Our task is to replace all of the red text, which indicates unresolved
conflicts, with some sensible merger of the &#x201C;ours&#x201D; and &#x201C;theirs&#x201D; versions of the file.
</p><!--l. 171--><p class="indent" >   All four of these panes are <span 
class="ptmri7t-">locked together</span>; if we scroll vertically or horizontally in any of them, the others are updated to
display the corresponding sections of their respective files.
</p>
   <hr class="figure" /><div class="figure" 
><table class="figure"><tr class="figure"><td class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x7-610035"></a>
                                                                                         
                                                                                         
<!--l. 177--><p class="noindent" ><img 
src="kdiff3.png" alt="PIC"  
 />
<br /> </p><table class="caption" 
><tr style="vertical-align:baseline;" class="caption"><td class="id">Figure&#x00A0;3.5: </td><td  
class="content">Using <a 
 id="dx7-61004"></a><span 
class="pcrr7tn-">kdiff3 </span>to merge versions of a file</td></tr></table><!--tex4ht:label?: x7-610035 -->
                                                                                         
                                                                                         
   </td></tr></table></div><hr class="endfigure" />
<!--l. 182--><p class="indent" >   For each conflicting portion of the file, we can choose to resolve the conflict using some combination of text from the base
version, ours, or theirs. We can also manually edit the merged file at any time, in case we need to make further
modifications.
</p><!--l. 187--><p class="indent" >   There are <span 
class="ptmri7t-">many </span>file merging tools available, too many to cover here. They vary in which platforms they are available for,
and in their particular strengths and weaknesses. Most are tuned for merging files containing plain text, while a few are aimed
at specialised file formats (generally XML).
</p>
   <h4 class="subsectionHead"><span class="titlemark">3.2.2    </span> <a 
 id="x7-620003.2.2"></a>A worked example</h4>
<!--l. 195--><p class="noindent" >In this example, we will reproduce the file modification history of figure&#x00A0;<a 
href="#x7-600014">3.4<!--tex4ht:ref: fig:tour-merge:conflict --></a> above. Let&#x2019;s begin by creating a repository with a
base version of our document.
</p>
   <div class="fancyvrb" id="fancyvrb">
<a 
 id="x7-62002r1"></a><span 
class="ptmr7t-x-x-50">1</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;$</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrb7t-">cat</span><span 
class="pcrb7t-">&#x00A0;&#x003e;</span><span 
class="pcrb7t-">&#x00A0;letter.txt</span><span 
class="pcrb7t-">&#x00A0;&#x003c;&#x003c;EOF</span>
<br class="fancyvrb" /><a 
 id="x7-62004r2"></a><span 
class="ptmr7t-x-x-50">2</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;&#x003e;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrb7t-">Greetings!</span>
<br class="fancyvrb" /><a 
 id="x7-62006r3"></a><span 
class="ptmr7t-x-x-50">3</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;&#x003e;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrb7t-">I</span><span 
class="pcrb7t-">&#x00A0;am</span><span 
class="pcrb7t-">&#x00A0;Mariam</span><span 
class="pcrb7t-">&#x00A0;Abacha,</span><span 
class="pcrb7t-">&#x00A0;the</span><span 
class="pcrb7t-">&#x00A0;wife</span><span 
class="pcrb7t-">&#x00A0;of</span><span 
class="pcrb7t-">&#x00A0;former</span>
<br class="fancyvrb" /><a 
 id="x7-62008r4"></a><span 
class="ptmr7t-x-x-50">4</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;&#x003e;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrb7t-">Nigerian</span><span 
class="pcrb7t-">&#x00A0;dictator</span><span 
class="pcrb7t-">&#x00A0;Sani</span><span 
class="pcrb7t-">&#x00A0;Abacha.</span>
<br class="fancyvrb" /><a 
 id="x7-62010r5"></a><span 
class="ptmr7t-x-x-50">5</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;&#x003e;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrb7t-">EOF</span>
<br class="fancyvrb" /><a 
 id="x7-62012r6"></a><span 
class="ptmr7t-x-x-50">6</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;$</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrb7t-">hg</span><span 
class="pcrb7t-">&#x00A0;add</span><span 
class="pcrb7t-">&#x00A0;letter.txt</span>
<br class="fancyvrb" /><a 
 id="x7-62014r7"></a><span 
class="ptmr7t-x-x-50">7</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;$</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrb7t-">hg</span><span 
class="pcrb7t-">&#x00A0;commit</span><span 
class="pcrb7t-">&#x00A0;-m</span><span 
class="pcrb7t-">&#x00A0;'419</span><span 
class="pcrb7t-">&#x00A0;scam,</span><span 
class="pcrb7t-">&#x00A0;first</span><span 
class="pcrb7t-">&#x00A0;draft'</span>
   </div>
<!--l. 199--><p class="noindent" >We&#x2019;ll clone the repository and make a change to the file.
</p>
   <div class="fancyvrb" id="fancyvrb">
<a 
 id="x7-62016r1"></a><span 
class="ptmr7t-x-x-50">1</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;$</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrb7t-">cd</span><span 
class="pcrb7t-">&#x00A0;..</span>
<br class="fancyvrb" /><a 
 id="x7-62018r2"></a><span 
class="ptmr7t-x-x-50">2</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;$</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrb7t-">hg</span><span 
class="pcrb7t-">&#x00A0;clone</span><span 
class="pcrb7t-">&#x00A0;scam</span><span 
class="pcrb7t-">&#x00A0;scam-cousin</span>
<br class="fancyvrb" /><a 
 id="x7-62020r3"></a><span 
class="ptmr7t-x-x-50">3</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;1</span><span 
class="pcrr7tn-">&#x00A0;files</span><span 
class="pcrr7tn-">&#x00A0;updated,</span><span 
class="pcrr7tn-">&#x00A0;0</span><span 
class="pcrr7tn-">&#x00A0;files</span><span 
class="pcrr7tn-">&#x00A0;merged,</span><span 
class="pcrr7tn-">&#x00A0;0</span><span 
class="pcrr7tn-">&#x00A0;files</span><span 
class="pcrr7tn-">&#x00A0;removed,</span><span 
class="pcrr7tn-">&#x00A0;0</span><span 
class="pcrr7tn-">&#x00A0;files</span><span 
class="pcrr7tn-">&#x00A0;unresolved</span>
<br class="fancyvrb" /><a 
 id="x7-62022r4"></a><span 
class="ptmr7t-x-x-50">4</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;$</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrb7t-">cd</span><span 
class="pcrb7t-">&#x00A0;scam-cousin</span>
<br class="fancyvrb" /><a 
 id="x7-62024r5"></a><span 
class="ptmr7t-x-x-50">5</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;$</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrb7t-">cat</span><span 
class="pcrb7t-">&#x00A0;&#x003e;</span><span 
class="pcrb7t-">&#x00A0;letter.txt</span><span 
class="pcrb7t-">&#x00A0;&#x003c;&#x003c;EOF</span>
<br class="fancyvrb" /><a 
 id="x7-62026r6"></a><span 
class="ptmr7t-x-x-50">6</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;&#x003e;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrb7t-">Greetings!</span>
<br class="fancyvrb" /><a 
 id="x7-62028r7"></a><span 
class="ptmr7t-x-x-50">7</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;&#x003e;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrb7t-">I</span><span 
class="pcrb7t-">&#x00A0;am</span><span 
class="pcrb7t-">&#x00A0;Shehu</span><span 
class="pcrb7t-">&#x00A0;Musa</span><span 
class="pcrb7t-">&#x00A0;Abacha,</span><span 
class="pcrb7t-">&#x00A0;cousin</span><span 
class="pcrb7t-">&#x00A0;to</span><span 
class="pcrb7t-">&#x00A0;the</span><span 
class="pcrb7t-">&#x00A0;former</span>
<br class="fancyvrb" /><a 
 id="x7-62030r8"></a><span 
class="ptmr7t-x-x-50">8</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;&#x003e;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrb7t-">Nigerian</span><span 
class="pcrb7t-">&#x00A0;dictator</span><span 
class="pcrb7t-">&#x00A0;Sani</span><span 
class="pcrb7t-">&#x00A0;Abacha.</span>
<br class="fancyvrb" /><a 
 id="x7-62032r9"></a><span 
class="ptmr7t-x-x-50">9</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;&#x003e;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrb7t-">EOF</span>
<br class="fancyvrb" /><a 
 id="x7-62034r10"></a><span 
class="ptmr7t-x-x-50">10</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;$</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrb7t-">hg</span><span 
class="pcrb7t-">&#x00A0;commit</span><span 
class="pcrb7t-">&#x00A0;-m</span><span 
class="pcrb7t-">&#x00A0;'419</span><span 
class="pcrb7t-">&#x00A0;scam,</span><span 
class="pcrb7t-">&#x00A0;with</span><span 
class="pcrb7t-">&#x00A0;cousin'</span>
   </div>
<!--l. 201--><p class="noindent" >And another clone, to simulate someone else making a change to the file. (This hints at the idea that it&#x2019;s not all that unusual to
merge with yourself when you isolate tasks in separate repositories, and indeed to find and resolve conflicts while doing
so.)
</p>
   <div class="fancyvrb" id="fancyvrb">
<a 
 id="x7-62036r1"></a><span 
class="ptmr7t-x-x-50">1</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;$</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrb7t-">cd</span><span 
class="pcrb7t-">&#x00A0;..</span>
<br class="fancyvrb" /><a 
 id="x7-62038r2"></a><span 
class="ptmr7t-x-x-50">2</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;$</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrb7t-">hg</span><span 
class="pcrb7t-">&#x00A0;clone</span><span 
class="pcrb7t-">&#x00A0;scam</span><span 
class="pcrb7t-">&#x00A0;scam-son</span>
<br class="fancyvrb" /><a 
 id="x7-62040r3"></a><span 
class="ptmr7t-x-x-50">3</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;1</span><span 
class="pcrr7tn-">&#x00A0;files</span><span 
class="pcrr7tn-">&#x00A0;updated,</span><span 
class="pcrr7tn-">&#x00A0;0</span><span 
class="pcrr7tn-">&#x00A0;files</span><span 
class="pcrr7tn-">&#x00A0;merged,</span><span 
class="pcrr7tn-">&#x00A0;0</span><span 
class="pcrr7tn-">&#x00A0;files</span><span 
class="pcrr7tn-">&#x00A0;removed,</span><span 
class="pcrr7tn-">&#x00A0;0</span><span 
class="pcrr7tn-">&#x00A0;files</span><span 
class="pcrr7tn-">&#x00A0;unresolved</span>
<br class="fancyvrb" /><a 
 id="x7-62042r4"></a><span 
class="ptmr7t-x-x-50">4</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;$</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrb7t-">cd</span><span 
class="pcrb7t-">&#x00A0;scam-son</span>
<br class="fancyvrb" /><a 
 id="x7-62044r5"></a><span 
class="ptmr7t-x-x-50">5</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;$</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrb7t-">cat</span><span 
class="pcrb7t-">&#x00A0;&#x003e;</span><span 
class="pcrb7t-">&#x00A0;letter.txt</span><span 
class="pcrb7t-">&#x00A0;&#x003c;&#x003c;EOF</span>
<br class="fancyvrb" /><a 
 id="x7-62046r6"></a><span 
class="ptmr7t-x-x-50">6</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;&#x003e;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrb7t-">Greetings!</span>
                                                                                         
                                                                                         
<br class="fancyvrb" /><a 
 id="x7-62048r7"></a><span 
class="ptmr7t-x-x-50">7</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;&#x003e;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrb7t-">I</span><span 
class="pcrb7t-">&#x00A0;am</span><span 
class="pcrb7t-">&#x00A0;Alhaji</span><span 
class="pcrb7t-">&#x00A0;Abba</span><span 
class="pcrb7t-">&#x00A0;Abacha,</span><span 
class="pcrb7t-">&#x00A0;son</span><span 
class="pcrb7t-">&#x00A0;of</span><span 
class="pcrb7t-">&#x00A0;the</span><span 
class="pcrb7t-">&#x00A0;former</span>
<br class="fancyvrb" /><a 
 id="x7-62050r8"></a><span 
class="ptmr7t-x-x-50">8</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;&#x003e;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrb7t-">Nigerian</span><span 
class="pcrb7t-">&#x00A0;dictator</span><span 
class="pcrb7t-">&#x00A0;Sani</span><span 
class="pcrb7t-">&#x00A0;Abacha.</span>
<br class="fancyvrb" /><a 
 id="x7-62052r9"></a><span 
class="ptmr7t-x-x-50">9</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;&#x003e;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrb7t-">EOF</span>
<br class="fancyvrb" /><a 
 id="x7-62054r10"></a><span 
class="ptmr7t-x-x-50">10</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;$</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrb7t-">hg</span><span 
class="pcrb7t-">&#x00A0;commit</span><span 
class="pcrb7t-">&#x00A0;-m</span><span 
class="pcrb7t-">&#x00A0;'419</span><span 
class="pcrb7t-">&#x00A0;scam,</span><span 
class="pcrb7t-">&#x00A0;with</span><span 
class="pcrb7t-">&#x00A0;son'</span>
   </div>
<!--l. 206--><p class="noindent" >Having created two different versions of the file, we&#x2019;ll set up an environment suitable for running our merge.
</p>
   <div class="fancyvrb" id="fancyvrb">
<a 
 id="x7-62056r1"></a><span 
class="ptmr7t-x-x-50">1</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;$</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrb7t-">cd</span><span 
class="pcrb7t-">&#x00A0;..</span>
<br class="fancyvrb" /><a 
 id="x7-62058r2"></a><span 
class="ptmr7t-x-x-50">2</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;$</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrb7t-">hg</span><span 
class="pcrb7t-">&#x00A0;clone</span><span 
class="pcrb7t-">&#x00A0;scam-cousin</span><span 
class="pcrb7t-">&#x00A0;scam-merge</span>
<br class="fancyvrb" /><a 
 id="x7-62060r3"></a><span 
class="ptmr7t-x-x-50">3</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;1</span><span 
class="pcrr7tn-">&#x00A0;files</span><span 
class="pcrr7tn-">&#x00A0;updated,</span><span 
class="pcrr7tn-">&#x00A0;0</span><span 
class="pcrr7tn-">&#x00A0;files</span><span 
class="pcrr7tn-">&#x00A0;merged,</span><span 
class="pcrr7tn-">&#x00A0;0</span><span 
class="pcrr7tn-">&#x00A0;files</span><span 
class="pcrr7tn-">&#x00A0;removed,</span><span 
class="pcrr7tn-">&#x00A0;0</span><span 
class="pcrr7tn-">&#x00A0;files</span><span 
class="pcrr7tn-">&#x00A0;unresolved</span>
<br class="fancyvrb" /><a 
 id="x7-62062r4"></a><span 
class="ptmr7t-x-x-50">4</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;$</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrb7t-">cd</span><span 
class="pcrb7t-">&#x00A0;scam-merge</span>
<br class="fancyvrb" /><a 
 id="x7-62064r5"></a><span 
class="ptmr7t-x-x-50">5</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;$</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrb7t-">hg</span><span 
class="pcrb7t-">&#x00A0;pull</span><span 
class="pcrb7t-">&#x00A0;-u</span><span 
class="pcrb7t-">&#x00A0;../scam-son</span>
<br class="fancyvrb" /><a 
 id="x7-62066r6"></a><span 
class="ptmr7t-x-x-50">6</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;pulling</span><span 
class="pcrr7tn-">&#x00A0;from</span><span 
class="pcrr7tn-">&#x00A0;../scam-son</span>
<br class="fancyvrb" /><a 
 id="x7-62068r7"></a><span 
class="ptmr7t-x-x-50">7</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;searching</span><span 
class="pcrr7tn-">&#x00A0;for</span><span 
class="pcrr7tn-">&#x00A0;changes</span>
<br class="fancyvrb" /><a 
 id="x7-62070r8"></a><span 
class="ptmr7t-x-x-50">8</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;adding</span><span 
class="pcrr7tn-">&#x00A0;changesets</span>
<br class="fancyvrb" /><a 
 id="x7-62072r9"></a><span 
class="ptmr7t-x-x-50">9</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;adding</span><span 
class="pcrr7tn-">&#x00A0;manifests</span>
<br class="fancyvrb" /><a 
 id="x7-62074r10"></a><span 
class="ptmr7t-x-x-50">10</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;adding</span><span 
class="pcrr7tn-">&#x00A0;file</span><span 
class="pcrr7tn-">&#x00A0;changes</span>
<br class="fancyvrb" /><a 
 id="x7-62076r11"></a><span 
class="ptmr7t-x-x-50">11</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;added</span><span 
class="pcrr7tn-">&#x00A0;1</span><span 
class="pcrr7tn-">&#x00A0;changesets</span><span 
class="pcrr7tn-">&#x00A0;with</span><span 
class="pcrr7tn-">&#x00A0;1</span><span 
class="pcrr7tn-">&#x00A0;changes</span><span 
class="pcrr7tn-">&#x00A0;to</span><span 
class="pcrr7tn-">&#x00A0;1</span><span 
class="pcrr7tn-">&#x00A0;files</span><span 
class="pcrr7tn-">&#x00A0;(+1</span><span 
class="pcrr7tn-">&#x00A0;heads)</span>
<br class="fancyvrb" /><a 
 id="x7-62078r12"></a><span 
class="ptmr7t-x-x-50">12</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;not</span><span 
class="pcrr7tn-">&#x00A0;updating,</span><span 
class="pcrr7tn-">&#x00A0;since</span><span 
class="pcrr7tn-">&#x00A0;new</span><span 
class="pcrr7tn-">&#x00A0;heads</span><span 
class="pcrr7tn-">&#x00A0;added</span>
<br class="fancyvrb" /><a 
 id="x7-62080r13"></a><span 
class="ptmr7t-x-x-50">13</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;(run</span><span 
class="pcrr7tn-">&#x00A0;'hg</span><span 
class="pcrr7tn-">&#x00A0;heads'</span><span 
class="pcrr7tn-">&#x00A0;to</span><span 
class="pcrr7tn-">&#x00A0;see</span><span 
class="pcrr7tn-">&#x00A0;heads,</span><span 
class="pcrr7tn-">&#x00A0;'hg</span><span 
class="pcrr7tn-">&#x00A0;merge'</span><span 
class="pcrr7tn-">&#x00A0;to</span><span 
class="pcrr7tn-">&#x00A0;merge)</span>
   </div>
<!--l. 210--><p class="indent" >   In this example, I won&#x2019;t use Mercurial&#x2019;s normal <a 
 id="dx7-62081"></a><span 
class="pcrr7tn-">hgmerge </span>program to do the merge, because it would drop my nice
automated example-running tool into a graphical user interface. Instead, I&#x2019;ll set <a 
 id="dx7-62082"></a><a 
 id="dx7-62083"></a><span 
class="pcrr7tn-">HGMERGE </span>to tell Mercurial to use the
non-interactive <a 
 id="dx7-62084"></a><span 
class="pcrr7tn-">merge </span>command. This is bundled with many Unix-like systems. If you&#x2019;re following this example on your
computer, don&#x2019;t bother setting <a 
 id="dx7-62085"></a><a 
 id="dx7-62086"></a><span 
class="pcrr7tn-">HGMERGE</span>.
</p>
   <div class="fancyvrb" id="fancyvrb">
<a 
 id="x7-62088r1"></a><span 
class="ptmr7t-x-x-50">1</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;$</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrb7t-">export</span><span 
class="pcrb7t-">&#x00A0;HGMERGE=merge</span>
<br class="fancyvrb" /><a 
 id="x7-62090r2"></a><span 
class="ptmr7t-x-x-50">2</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;$</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrb7t-">hg</span><span 
class="pcrb7t-">&#x00A0;merge</span>
<br class="fancyvrb" /><a 
 id="x7-62092r3"></a><span 
class="ptmr7t-x-x-50">3</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;merging</span><span 
class="pcrr7tn-">&#x00A0;letter.txt</span>
<br class="fancyvrb" /><a 
 id="x7-62094r4"></a><span 
class="ptmr7t-x-x-50">4</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;merge:</span><span 
class="pcrr7tn-">&#x00A0;warning:</span><span 
class="pcrr7tn-">&#x00A0;conflicts</span><span 
class="pcrr7tn-">&#x00A0;during</span><span 
class="pcrr7tn-">&#x00A0;merge</span>
<br class="fancyvrb" /><a 
 id="x7-62096r5"></a><span 
class="ptmr7t-x-x-50">5</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;merging</span><span 
class="pcrr7tn-">&#x00A0;letter.txt</span><span 
class="pcrr7tn-">&#x00A0;failed!</span>
<br class="fancyvrb" /><a 
 id="x7-62098r6"></a><span 
class="ptmr7t-x-x-50">6</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;0</span><span 
class="pcrr7tn-">&#x00A0;files</span><span 
class="pcrr7tn-">&#x00A0;updated,</span><span 
class="pcrr7tn-">&#x00A0;0</span><span 
class="pcrr7tn-">&#x00A0;files</span><span 
class="pcrr7tn-">&#x00A0;merged,</span><span 
class="pcrr7tn-">&#x00A0;0</span><span 
class="pcrr7tn-">&#x00A0;files</span><span 
class="pcrr7tn-">&#x00A0;removed,</span><span 
class="pcrr7tn-">&#x00A0;1</span><span 
class="pcrr7tn-">&#x00A0;files</span><span 
class="pcrr7tn-">&#x00A0;unresolved</span>
<br class="fancyvrb" /><a 
 id="x7-62100r7"></a><span 
class="ptmr7t-x-x-50">7</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;There</span><span 
class="pcrr7tn-">&#x00A0;are</span><span 
class="pcrr7tn-">&#x00A0;unresolved</span><span 
class="pcrr7tn-">&#x00A0;merges,</span><span 
class="pcrr7tn-">&#x00A0;you</span><span 
class="pcrr7tn-">&#x00A0;can</span><span 
class="pcrr7tn-">&#x00A0;redo</span><span 
class="pcrr7tn-">&#x00A0;the</span><span 
class="pcrr7tn-">&#x00A0;full</span><span 
class="pcrr7tn-">&#x00A0;merge</span><span 
class="pcrr7tn-">&#x00A0;using:</span>
<br class="fancyvrb" /><a 
 id="x7-62102r8"></a><span 
class="ptmr7t-x-x-50">8</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;hg</span><span 
class="pcrr7tn-">&#x00A0;update</span><span 
class="pcrr7tn-">&#x00A0;-C</span><span 
class="pcrr7tn-">&#x00A0;1</span>
<br class="fancyvrb" /><a 
 id="x7-62104r9"></a><span 
class="ptmr7t-x-x-50">9</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;hg</span><span 
class="pcrr7tn-">&#x00A0;merge</span><span 
class="pcrr7tn-">&#x00A0;2</span>
<br class="fancyvrb" /><a 
 id="x7-62106r10"></a><span 
class="ptmr7t-x-x-50">10</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;$</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrb7t-">cat</span><span 
class="pcrb7t-">&#x00A0;letter.txt</span>
<br class="fancyvrb" /><a 
 id="x7-62108r11"></a><span 
class="ptmr7t-x-x-50">11</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;Greetings!</span>
<br class="fancyvrb" /><a 
 id="x7-62110r12"></a><span 
class="ptmr7t-x-x-50">12</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;&#x003c;&#x003c;&#x003c;&#x003c;&#x003c;&#x003c;&#x003c;</span><span 
class="pcrr7tn-">&#x00A0;/tmp/tour-merge-conflictFb6vGk/scam-merge/letter.txt</span>
<br class="fancyvrb" /><a 
 id="x7-62112r13"></a><span 
class="ptmr7t-x-x-50">13</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;I</span><span 
class="pcrr7tn-">&#x00A0;am</span><span 
class="pcrr7tn-">&#x00A0;Shehu</span><span 
class="pcrr7tn-">&#x00A0;Musa</span><span 
class="pcrr7tn-">&#x00A0;Abacha,</span><span 
class="pcrr7tn-">&#x00A0;cousin</span><span 
class="pcrr7tn-">&#x00A0;to</span><span 
class="pcrr7tn-">&#x00A0;the</span><span 
class="pcrr7tn-">&#x00A0;former</span>
<br class="fancyvrb" /><a 
 id="x7-62114r14"></a><span 
class="ptmr7t-x-x-50">14</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;=======</span>
<br class="fancyvrb" /><a 
 id="x7-62116r15"></a><span 
class="ptmr7t-x-x-50">15</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;I</span><span 
class="pcrr7tn-">&#x00A0;am</span><span 
class="pcrr7tn-">&#x00A0;Alhaji</span><span 
class="pcrr7tn-">&#x00A0;Abba</span><span 
class="pcrr7tn-">&#x00A0;Abacha,</span><span 
class="pcrr7tn-">&#x00A0;son</span><span 
class="pcrr7tn-">&#x00A0;of</span><span 
class="pcrr7tn-">&#x00A0;the</span><span 
class="pcrr7tn-">&#x00A0;former</span>
<br class="fancyvrb" /><a 
 id="x7-62118r16"></a><span 
class="ptmr7t-x-x-50">16</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;&#x003e;&#x003e;&#x003e;&#x003e;&#x003e;&#x003e;&#x003e;</span><span 
class="pcrr7tn-">&#x00A0;/tmp/letter.txt~other.dmqz8N</span>
<br class="fancyvrb" /><a 
 id="x7-62120r17"></a><span 
class="ptmr7t-x-x-50">17</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;Nigerian</span><span 
class="pcrr7tn-">&#x00A0;dictator</span><span 
class="pcrr7tn-">&#x00A0;Sani</span><span 
class="pcrr7tn-">&#x00A0;Abacha.</span>
   </div>
<!--l. 218--><p class="noindent" >Because <a 
 id="dx7-62121"></a><span 
class="pcrr7tn-">merge </span>can&#x2019;t resolve the conflicting changes, it leaves <span 
class="ptmri7t-">merge markers </span>inside the file that has conflicts, indicating which
lines have conflicts, and whether they came from our version of the file or theirs.
                                                                                         
                                                                                         
</p><!--l. 223--><p class="indent" >   Mercurial can tell from the way <a 
 id="dx7-62122"></a><span 
class="pcrr7tn-">merge </span>exits that it wasn&#x2019;t able to merge successfully, so it tells us what commands we&#x2019;ll
need to run if we want to redo the merging operation. This could be useful if, for example, we were running a graphical merge
tool and quit because we were confused or realised we had made a mistake.
</p><!--l. 229--><p class="indent" >   If automatic or manual merges fail, there&#x2019;s nothing to prevent us from &#x201C;fixing up&#x201D; the affected files ourselves, and
committing the results of our merge:
</p>
   <div class="fancyvrb" id="fancyvrb">
<a 
 id="x7-62124r1"></a><span 
class="ptmr7t-x-x-50">1</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;$</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrb7t-">cat</span><span 
class="pcrb7t-">&#x00A0;&#x003e;</span><span 
class="pcrb7t-">&#x00A0;letter.txt</span><span 
class="pcrb7t-">&#x00A0;&#x003c;&#x003c;EOF</span>
<br class="fancyvrb" /><a 
 id="x7-62126r2"></a><span 
class="ptmr7t-x-x-50">2</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;&#x003e;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrb7t-">Greetings!</span>
<br class="fancyvrb" /><a 
 id="x7-62128r3"></a><span 
class="ptmr7t-x-x-50">3</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;&#x003e;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrb7t-">I</span><span 
class="pcrb7t-">&#x00A0;am</span><span 
class="pcrb7t-">&#x00A0;Bryan</span><span 
class="pcrb7t-">&#x00A0;O'Sullivan,</span><span 
class="pcrb7t-">&#x00A0;no</span><span 
class="pcrb7t-">&#x00A0;relation</span><span 
class="pcrb7t-">&#x00A0;of</span><span 
class="pcrb7t-">&#x00A0;the</span><span 
class="pcrb7t-">&#x00A0;former</span>
<br class="fancyvrb" /><a 
 id="x7-62130r4"></a><span 
class="ptmr7t-x-x-50">4</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;&#x003e;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrb7t-">Nigerian</span><span 
class="pcrb7t-">&#x00A0;dictator</span><span 
class="pcrb7t-">&#x00A0;Sani</span><span 
class="pcrb7t-">&#x00A0;Abacha.</span>
<br class="fancyvrb" /><a 
 id="x7-62132r5"></a><span 
class="ptmr7t-x-x-50">5</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;&#x003e;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrb7t-">EOF</span>
<br class="fancyvrb" /><a 
 id="x7-62134r6"></a><span 
class="ptmr7t-x-x-50">6</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;$</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrb7t-">hg</span><span 
class="pcrb7t-">&#x00A0;commit</span><span 
class="pcrb7t-">&#x00A0;-m</span><span 
class="pcrb7t-">&#x00A0;'Send</span><span 
class="pcrb7t-">&#x00A0;me</span><span 
class="pcrb7t-">&#x00A0;your</span><span 
class="pcrb7t-">&#x00A0;money'</span>
<br class="fancyvrb" /><a 
 id="x7-62136r7"></a><span 
class="ptmr7t-x-x-50">7</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;$</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrb7t-">hg</span><span 
class="pcrb7t-">&#x00A0;tip</span>
<br class="fancyvrb" /><a 
 id="x7-62138r8"></a><span 
class="ptmr7t-x-x-50">8</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;changeset:</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;3:55085a603229</span>
<br class="fancyvrb" /><a 
 id="x7-62140r9"></a><span 
class="ptmr7t-x-x-50">9</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;tag:</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;tip</span>
<br class="fancyvrb" /><a 
 id="x7-62142r10"></a><span 
class="ptmr7t-x-x-50">10</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;parent:</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;1:4f3647dfc1a6</span>
<br class="fancyvrb" /><a 
 id="x7-62144r11"></a><span 
class="ptmr7t-x-x-50">11</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;parent:</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;2:162de8ba5e8f</span>
<br class="fancyvrb" /><a 
 id="x7-62146r12"></a><span 
class="ptmr7t-x-x-50">12</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;user:</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;Bryan</span><span 
class="pcrr7tn-">&#x00A0;O'Sullivan</span><span 
class="pcrr7tn-">&#x00A0;&#x003c;bos@serpentine.com&#x003e;</span>
<br class="fancyvrb" /><a 
 id="x7-62148r13"></a><span 
class="ptmr7t-x-x-50">13</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;date:</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;Mon</span><span 
class="pcrr7tn-">&#x00A0;Dec</span><span 
class="pcrr7tn-">&#x00A0;10</span><span 
class="pcrr7tn-">&#x00A0;19:55:43</span><span 
class="pcrr7tn-">&#x00A0;2007</span><span 
class="pcrr7tn-">&#x00A0;+0000</span>
<br class="fancyvrb" /><a 
 id="x7-62150r14"></a><span 
class="ptmr7t-x-x-50">14</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;summary:</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;Send</span><span 
class="pcrr7tn-">&#x00A0;me</span><span 
class="pcrr7tn-">&#x00A0;your</span><span 
class="pcrr7tn-">&#x00A0;money</span>
<br class="fancyvrb" /><a 
 id="x7-62152r15"></a><span 
class="ptmr7t-x-x-50">15</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;</span>
   </div>
<!--l. 234--><p class="noindent" >
</p>
   <h3 class="sectionHead"><span class="titlemark">3.3    </span> <a 
 id="x7-630003.3"></a>Simplifying the pull-merge-commit sequence</h3>
<!--l. 237--><p class="noindent" >The process of merging changes as outlined above is straightforward, but requires running three commands in
sequence.
</p>
   <div class="fancyvrb" id="fancyvrb">
<a 
 id="x7-63002r1"></a><span 
class="ptmr7t-x-x-50">1</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;hg</span><span 
class="pcrr7tn-">&#x00A0;pull</span>
<br class="fancyvrb" /><a 
 id="x7-63004r2"></a><span 
class="ptmr7t-x-x-50">2</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;hg</span><span 
class="pcrr7tn-">&#x00A0;merge</span>
<br class="fancyvrb" /><a 
 id="x7-63006r3"></a><span 
class="ptmr7t-x-x-50">3</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;hg</span><span 
class="pcrr7tn-">&#x00A0;commit</span><span 
class="pcrr7tn-">&#x00A0;-m</span><span 
class="pcrr7tn-">&#x00A0;'Merged</span><span 
class="pcrr7tn-">&#x00A0;remote</span><span 
class="pcrr7tn-">&#x00A0;changes'</span>
   </div>
<!--l. 244--><p class="noindent" >In the case of the final commit, you also need to enter a commit message, which is almost always going to be a piece of
uninteresting &#x201C;boilerplate&#x201D; text.
</p><!--l. 248--><p class="indent" >   It would be nice to reduce the number of steps needed, if this were possible. Indeed, Mercurial is distributed with an
extension called <a 
 id="dx7-63007"></a><span 
class="pcrr7tn-">fetch </span>that does just this.
</p><!--l. 252--><p class="indent" >   Mercurial provides a flexible extension mechanism that lets people extend its functionality, while keeping the core of
Mercurial small and easy to deal with. Some extensions add new commands that you can use from the command line, while
others work &#x201C;behind the scenes,&#x201D; for example adding capabilities to the server.
</p><!--l. 258--><p class="indent" >   The <a 
 id="dx7-63008"></a><span 
class="pcrr7tn-">fetch </span>extension adds a new command called, not surprisingly, <a 
 id="dx7-63009"></a>&#x201C;<span 
class="pcrr7tn-">hg fetch</span>&#x201D;. This extension acts as a combination of
<a 
 id="dx7-63010"></a>&#x201C;<span 
class="pcrr7tn-">hg pull</span>&#x201D;, <a 
 id="dx7-63011"></a>&#x201C;<span 
class="pcrr7tn-">hg update</span>&#x201D; and <a 
 id="dx7-63012"></a>&#x201C;<span 
class="pcrr7tn-">hg merge</span>&#x201D;. It begins by pulling changes from another repository into the current repository. If
it finds that the changes added a new head to the repository, it begins a merge, then commits the result of the merge with an
automatically-generated commit message. If no new heads were added, it updates the working directory to the new tip
changeset.
                                                                                         
                                                                                         
</p><!--l. 267--><p class="indent" >   Enabling the <a 
 id="dx7-63013"></a><span 
class="pcrr7tn-">fetch </span>extension is easy. Edit your <a 
 id="dx7-63014"></a><span 
class="pcrr7tn-">.hgrc</span>, and either go to the <a 
 id="dx7-63015"></a><span 
class="pcrr7tn-">[extensions] </span>section or create an
<a 
 id="dx7-63016"></a><span 
class="pcrr7tn-">[extensions] </span>section. Then add a line that simply reads &#x201C;<span class="verb"><span 
class="pcrr7tn-">fetch</span><span 
class="pcrr7tn-">&#x00A0;</span></span>&#x201D;.
</p>
   <div class="fancyvrb" id="fancyvrb">
<a 
 id="x7-63018r1"></a><span 
class="ptmr7t-x-x-50">1</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;[extensions]</span>
<br class="fancyvrb" /><a 
 id="x7-63020r2"></a><span 
class="ptmr7t-x-x-50">2</span><span 
class="pcrr7tn-">&#x00A0;</span><span 
class="pcrr7tn-">&#x00A0;fetch</span><span 
class="pcrr7tn-">&#x00A0;=</span>
   </div>
<!--l. 275--><p class="noindent" >(Normally, on the right-hand side of the &#x201C;<span 
class="pcrr7tn-">=</span>&#x201D; would appear the location of the extension, but since the <a 
 id="dx7-63021"></a><span 
class="pcrr7tn-">fetch </span>extension is in the
standard distribution, Mercurial knows where to search for it.)
                                                                                         
                                                                                         
                                                                                         
                                                                                         
                                                                                         
                                                                                         
</p>
   <!--l. 1--><div class="crosslinks"><p class="noindent">[<a 
href="hgbookch4.html" >next</a>] [<a 
href="hgbookch2.html" >prev</a>] [<a 
href="hgbookch2.html#tailhgbookch2.html" >prev-tail</a>] [<a 
href="hgbookch3.html" >front</a>] [<a 
href="hgbook.html#hgbookch3.html" >up</a>] </p></div>
<!--l. 1--><p class="indent" >   <a 
 id="tailhgbookch3.html"></a>  </p> 
</body></html> 
